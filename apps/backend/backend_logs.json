
> @repo/backend@0.0.2 start:prod
> node dist/apps/backend/src/main.js

[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m‚úÖ Environment configuration validated successfully[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32mEnvironment Summary:[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  environment: production[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  port: 4600[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  database: ‚úì configured[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  supabase: ‚úì configured[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  stripe: ‚úì configured[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  email: ‚úì configured[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  redis: ‚úó not configured[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[EnvValidator] [39m[32m  cors: ‚úì configured[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m=== BOOTSTRAP DEBUG START ===[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[Bootstrap] [39mObject(7) {
  processPID: [33m72127[39m,
  nodeVersion: [32m'v24.5.0'[39m,
  currentDirectory: [32m'/Users/richard/Developer/tenant-flow/apps/backend'[39m,
  NODE_ENV: [32m'production'[39m,
  DOCKER_CONTAINER: [90mundefined[39m,
  RAILWAY_ENVIRONMENT: [90mundefined[39m,
  PORT: [32m'4600'[39m
}
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m=== ENTERING BOOTSTRAP FUNCTION ===[39m
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[Bootstrap] [39mObject(1) {
  timestamp: [32m'2025-08-15T17:55:23.208Z'[39m
}
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m=== CREATING WINSTON LOGGER ===[39m
{"isProduction":true,"level":"debug","message":"=== WINSTON CONFIG DEBUG ===","timestamp":"2025-08-15T17:55:23.210Z"}
{"level":"debug","message":"Docker environment check","timestamp":"2025-08-15T17:55:23.210Z"}
{"level":"debug","message":"=== CREATING FILE TRANSPORTS (NOT IN DOCKER) ===","timestamp":"2025-08-15T17:55:23.211Z"}
[32m[Nest] 72127  - [39m08/15/2025, 12:55:23 PM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m=== WINSTON LOGGER CREATED SUCCESSFULLY ===[39m
[TenantFlow] 72127  2025-08-15 12:55:23.237    WARN [PerformanceDecorator] ‚ö†Ô∏è StripeModule took 142ms to load
[TenantFlow] 72127  2025-08-15 12:55:23.239    WARN [CsrfTokenService] Generated random CSRF secret. For production, set CSRF_SECRET environment variable
‚ö†Ô∏è WARNING: Redis not configured in production - email queue disabled
Add Redis plugin in Railway dashboard and link it to backend service
[TenantFlow] 72127  2025-08-15 12:55:23.304    WARN [EmailTemplateService] Base template not found, using templates without wrapper
[TenantFlow] 72127  2025-08-15 12:55:23.399   ERROR  Duplicate DTO detected: "CreateCheckoutSessionDto" is defined multiple times with different schemas.
Consider using unique class names or applying @ApiExtraModels() decorator with custom schema names.
Note: This will throw an error in the next major version. - {"stack":[null]}
{"context":"HTTP","duration":2,"environment":"production","level":"info","message":"HTTP Request","method":"GET","service":"tenantflow-backend","statusCode":200,"timestamp":"2025-08-15T17:55:36.858Z","type":"http","url":"/health"}
