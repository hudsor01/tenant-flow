exports.id=2910,exports.ids=[2910],exports.modules={3933:(a,b,c)=>{"use strict";c.d(b,{t:()=>R});var d=c(13486),e=c(60159),f=c(49989),g=c.n(f),h=c(23982),i=c(42726),j=c(86e3),k=c(63821),l=c(21800),m=c(30760),n=c(57956),o=c(96056),p=c(15998),q=c(986),r=c(82376),s=c(9431),t=c(15577),u=c(58314),v=c(29563),w=c(23025),x=c(41571),y=c(72294),z=c(49391),A=c(26518);function B({className:a,...b}){return(0,d.jsx)(y.bL,{"data-slot":"checkbox",className:(0,A.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(y.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,d.jsx)(z.A,{className:"size-3.5"})})})}var C=c(70358);let D=(0,C.createServerReference)("60e4b29a88cab62dd73500a9569735490312b9001a",C.callServer,void 0,C.findSourceMapURL,"loginAction"),E=(0,C.createServerReference)("60bf5fb209eabb381d3465c437d7401bf5e7a9f829",C.callServer,void 0,C.findSourceMapURL,"signupAction"),F=(0,C.createServerReference)("602dfc4bad3f8895d90122c3f093fd3fd2dd412239",C.callServer,void 0,C.findSourceMapURL,"forgotPasswordAction"),G=(0,C.createServerReference)("0039403314be89ddb8662fb399582d817b7b15445c",C.callServer,void 0,C.findSourceMapURL,"signInWithGoogle"),H=(0,C.createServerReference)("005ebea06dc48565ac5320ce3e767292e4a0470247",C.callServer,void 0,C.findSourceMapURL,"signInWithGitHub");var I=c(81604);function J({disabled:a=!1}){let[b,c]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1),h=async()=>{if(!a&&!b){c(!0);try{await G()}catch(b){let a=b instanceof Error?b.message:"Failed to sign in with Google";I.oR.error(a),c(!1)}}},i=async()=>{if(!a&&!f){g(!0);try{await H()}catch(b){let a=b instanceof Error?b.message:"Failed to sign in with GitHub";I.oR.error(a),g(!1)}}},j=b||f;return(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)(u.Button,{type:"button",variant:"outline",className:"w-full h-12 text-sm font-medium hover:bg-gray-50 transition-colors",onClick:h,disabled:a||j,children:[(0,d.jsxs)("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,d.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,d.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,d.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),b?"Connecting...":"Continue with Google"]}),(0,d.jsxs)(u.Button,{type:"button",variant:"outline",className:"w-full h-12 text-sm font-medium hover:bg-gray-50 transition-colors",onClick:i,disabled:a||j,children:[(0,d.jsx)("svg",{className:"mr-2 h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})}),f?"Connecting...":"Continue with GitHub"]})]})}var K=c(73494);function L({label:a,name:b,type:c="text",placeholder:f,required:g=!1,error:k,disabled:l=!1,className:m,icon:n}){let[o,p]=(0,e.useState)(!1);return(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(x.J,{htmlFor:b,className:"text-sm font-medium",children:a}),(0,d.jsxs)("div",{className:"relative",children:[n&&(0,d.jsx)(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,d.jsx)(w.p,{id:b,name:b,type:"password"===c&&o?"text":c,placeholder:f,required:g,disabled:l,className:(0,A.cn)("h-12 text-base transition-all",n&&"pl-10","password"===c&&"pr-10","focus:ring-2 focus:ring-primary/20",k&&"border-destructive focus:ring-destructive/20",m),"aria-invalid":!!k,"aria-describedby":k?`${b}-error`:void 0}),"password"===c&&(0,d.jsx)("button",{type:"button",onClick:()=>p(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:l,children:o?(0,d.jsx)(h.A,{className:"h-4 w-4"}):(0,d.jsx)(i.A,{className:"h-4 w-4"})})]}),k&&(0,d.jsxs)("p",{id:`${b}-error`,className:"text-sm text-destructive flex items-center gap-1 mt-1",children:[(0,d.jsx)(j.A,{className:"h-3 w-3"}),k]})]})}function M({state:a,isPending:b,redirectTo:c}){let[f,h]=(0,e.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[c?.includes("emailConfirmed=true")&&(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,d.jsx)(k.A,{className:"h-5 w-5 text-green-600"}),(0,d.jsx)("p",{className:"text-sm text-green-800",children:"Email confirmed successfully! Please sign in to continue."})]}),(0,d.jsxs)("div",{className:"space-y-5",children:[(0,d.jsx)(L,{label:"Email address",name:"email",type:"email",placeholder:"name@example.com",required:!0,disabled:b,error:a.errors?.email?.[0],icon:l.A}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(x.J,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),(0,d.jsx)(g(),{href:"/auth/forgot-password",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,d.jsx)(w.p,{id:"password",name:"password",type:"password",placeholder:"Enter your password",required:!0,disabled:b,className:(0,A.cn)("h-12 pl-10 pr-10 text-base transition-all","focus:ring-2 focus:ring-primary/20",a.errors?.password&&"border-destructive focus:ring-destructive/20"),"aria-invalid":!!a.errors?.password,"aria-describedby":a.errors?.password?"password-error":void 0})]}),a.errors?.password&&(0,d.jsxs)("p",{id:"password-error",className:"text-sm text-destructive flex items-center gap-1 mt-1",children:[(0,d.jsx)(j.A,{className:"h-3 w-3"}),a.errors.password[0]]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(B,{id:"remember",name:"rememberMe",checked:f,onCheckedChange:a=>h(a),disabled:b,className:"h-4 w-4 rounded border-gray-300 data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),(0,d.jsx)(x.J,{htmlFor:"remember",className:"text-sm font-normal text-gray-700 cursor-pointer select-none hover:text-gray-900",children:"Remember me for 30 days"})]}),(0,d.jsx)("input",{type:"hidden",name:"redirectTo",value:c})]})]})}function N({state:a,isPending:b,redirectTo:c}){let[f,h]=(0,e.useState)(!1);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"space-y-5",children:[(0,d.jsx)(L,{label:"Full Name",name:"fullName",type:"text",placeholder:"John Doe",required:!0,disabled:b,error:a.errors?.fullName?.[0],icon:n.A}),(0,d.jsx)(L,{label:"Email Address",name:"email",type:"email",placeholder:"name@example.com",required:!0,disabled:b,error:a.errors?.email?.[0],icon:l.A}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(L,{label:"Password",name:"password",type:"password",placeholder:"Create a secure password",required:!0,disabled:b,error:a.errors?.password?.[0],icon:m.A}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters with a mix of letters and numbers"})]}),(0,d.jsx)(L,{label:"Confirm Password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",required:!0,disabled:b,error:a.errors?.confirmPassword?.[0],icon:m.A}),(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)(B,{id:"terms",checked:f,onCheckedChange:a=>h(a),disabled:b,className:"mt-1 data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),(0,d.jsxs)(x.J,{htmlFor:"terms",className:"text-sm font-normal cursor-pointer select-none leading-relaxed",children:["I agree to the"," ",(0,d.jsx)(g(),{href:"/terms",className:"text-primary hover:text-primary/80 underline",children:"Terms of Service"})," ","and"," ",(0,d.jsx)(g(),{href:"/privacy",className:"text-primary hover:text-primary/80 underline",children:"Privacy Policy"})]})]}),(0,d.jsx)("input",{type:"hidden",name:"redirectTo",value:c}),(0,d.jsx)("input",{type:"hidden",name:"acceptTerms",value:f.toString()})]})})}function O({state:a,isPending:b}){return(0,d.jsxs)("div",{className:"space-y-5",children:[(0,d.jsx)(L,{label:"Email address",name:"email",type:"email",placeholder:"name@example.com",required:!0,disabled:b,error:a.errors?.email?.[0],icon:l.A}),(0,d.jsx)("div",{className:"space-y-3 text-sm text-muted-foreground",children:(0,d.jsxs)("p",{className:"flex items-start gap-2",children:[(0,d.jsx)(o.A,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,d.jsx)("span",{children:"We'll send you an email with instructions to reset your password."})]})})]})}function P({state:a}){return(0,d.jsxs)(v.Zp,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm",children:[(0,d.jsxs)(v.aR,{className:"space-y-2 pb-8 text-center",children:[(0,d.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:(0,d.jsx)(k.A,{className:"h-8 w-8 text-green-600"})}),(0,d.jsx)(v.ZB,{className:"text-3xl font-bold",children:"Check Your Email"}),(0,d.jsx)(v.BT,{className:"text-base text-muted-foreground",children:"We've sent you a verification link"})]}),(0,d.jsxs)(v.Wu,{className:"space-y-6",children:[(0,d.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-green-800 text-center",children:a.message||"Please check your inbox and click the verification link to complete your registration."})}),(0,d.jsxs)("div",{className:"text-center text-sm",children:["Already have an account?"," ",(0,d.jsx)(g(),{href:"/auth/login",className:"text-primary font-medium hover:text-primary/80 transition-colors",children:"Sign in"})]})]})]})}function Q({state:a}){return(0,d.jsxs)(v.Zp,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm",children:[(0,d.jsxs)(v.aR,{className:"space-y-2 pb-8 text-center",children:[(0,d.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:(0,d.jsx)(k.A,{className:"h-8 w-8 text-green-600"})}),(0,d.jsx)(v.ZB,{className:"text-3xl font-bold",children:"Check Your Email"}),(0,d.jsx)(v.BT,{className:"text-base text-muted-foreground",children:"We've sent reset instructions to your inbox"})]}),(0,d.jsxs)(v.Wu,{className:"space-y-6",children:[(0,d.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-green-800 text-center",children:a.message||"Please check your email and follow the instructions to reset your password. The link will expire in 24 hours."})}),(0,d.jsx)("div",{className:"space-y-3 text-sm text-muted-foreground",children:(0,d.jsxs)("p",{className:"flex items-start gap-2",children:[(0,d.jsx)(o.A,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,d.jsx)("span",{children:"Didn't receive the email? Check your spam folder or try again in a few minutes."})]})}),(0,d.jsx)("div",{className:"text-center text-sm",children:(0,d.jsxs)(g(),{href:"/auth/login",className:"inline-flex items-center text-primary font-medium hover:text-primary/80 transition-colors",children:[(0,d.jsx)(p.A,{className:"mr-1 h-4 w-4"}),"Back to Sign In"]})})]})]})}function R({config:a,onSuccess:b}){let c={login:D,signup:E,"forgot-password":F}[a.type],[f,h]=(0,e.useActionState)(c,{errors:{}}),[i,k]=(0,e.useTransition)();if(f.success){if("signup"===a.type)return(0,d.jsx)("div",{className:"flex flex-col gap-6 w-full max-w-md mx-auto",children:(0,d.jsx)(P,{state:f})});if("forgot-password"===a.type)return(0,d.jsx)("div",{className:"flex flex-col gap-6 w-full max-w-md mx-auto",children:(0,d.jsx)(Q,{state:f})})}let l="signup"===a.type,m="forgot-password"!==a.type,n="forgot-password"===a.type;return(0,d.jsxs)("div",{className:"flex flex-col gap-6 w-full max-w-md mx-auto",children:[l&&(0,d.jsxs)("div",{className:"flex items-center justify-center gap-6 text-xs text-muted-foreground",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(q.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:"Secure"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(r.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:"Quick Setup"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(s.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:"10,000+ Users"})]})]}),"forgot-password"===a.type&&(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[(0,d.jsx)(q.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:"Secure password reset"})]}),(0,d.jsxs)(v.Zp,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm",children:[(0,d.jsxs)(v.aR,{className:"space-y-2 pb-8",children:[(0,d.jsx)(v.ZB,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:a.title}),(0,d.jsx)(v.BT,{className:"text-base text-muted-foreground",children:a.description})]}),(0,d.jsxs)(v.Wu,{className:"space-y-6",children:[a.error&&(0,d.jsx)(K.l,{message:a.error}),f.errors?._form&&(0,d.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-destructive"}),(0,d.jsx)("p",{className:"text-destructive text-sm",children:f.errors._form[0]})]})}),(0,d.jsxs)("form",{action:a=>{k(()=>{h(a)})},className:"space-y-5",children:[(()=>{switch(a.type){case"login":return(0,d.jsx)(M,{state:f,isPending:i,redirectTo:a.redirectTo});case"signup":return(0,d.jsx)(N,{state:f,isPending:i,redirectTo:a.redirectTo});case"forgot-password":return(0,d.jsx)(O,{state:f,isPending:i});default:return null}})(),(0,d.jsx)(u.Button,{type:"submit",className:"w-full h-12 text-base font-medium transition-all hover:shadow-lg",disabled:i,children:i?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.A,{className:"mr-2 h-4 w-4 animate-spin"}),a.loadingLabel]}):a.submitLabel})]}),m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"relative flex items-center",children:[(0,d.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,d.jsx)("span",{className:"flex-shrink mx-4 text-xs text-muted-foreground uppercase tracking-wider",children:"Or continue with"}),(0,d.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,d.jsx)(J,{disabled:i})]}),(0,d.jsxs)("div",{className:"text-center text-sm",children:["login"===a.type&&(0,d.jsxs)(d.Fragment,{children:["Don't have an account?"," ",(0,d.jsx)(g(),{href:"/auth/signup",className:"text-primary font-medium hover:underline",children:"Sign up"})]}),"signup"===a.type&&(0,d.jsxs)(d.Fragment,{children:["Already have an account?"," ",(0,d.jsx)(g(),{href:"/auth/login",className:"text-primary font-medium hover:underline",children:"Sign in"})]}),n&&(0,d.jsxs)(g(),{href:"/auth/login",className:"inline-flex items-center text-primary font-medium hover:text-primary/80 transition-colors",children:[(0,d.jsx)(p.A,{className:"mr-1 h-4 w-4"}),"Back to Sign In"]})]})]})]})]})}},5782:(a,b,c)=>{"use strict";c.d(b,{AuthRedirect:()=>f});var d=c(13486);c(60159);var e=c(2984);function f({to:a}){return(0,e.useRouter)(),(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,d.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Redirecting..."})]})})}},10523:(a,b,c)=>{"use strict";c.d(b,{Ht:()=>h,ND:()=>f,j2:()=>g});var d=c(92193),e=c(24871);let f=(0,d.UU)(e.$.supabase.url,e.$.supabase.anonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),g=f.auth;async function h(){let{data:{session:a},error:b}=await f.auth.getSession();return{session:a,error:b}}},12360:(a,b,c)=>{"use strict";c.d(b,{gm:()=>i,lg:()=>j,yY:()=>h});var d=c(10841);c(10935);var e=c(25408),f=c(52943);let g=new e.f2("phc_rSyH7L2ImIDIi4evbhKV2sozqmf5PWIZvGzFfrfuVHf",{host:"https://us.i.posthog.com",flushAt:1,flushInterval:0});async function h(a,b,c){try{g.capture({distinctId:b||"anonymous",event:a,properties:{...c,$lib:"posthog-node",$lib_version:"4.0.1",environment:"production",timestamp:new Date().toISOString()}}),await g.flush()}catch(a){console.error("Failed to track server-side event:",a)}}async function i(a,b){try{g.identify({distinctId:a,properties:{...b,$set:b}}),await g.flush()}catch(a){console.error("Failed to identify user server-side:",a)}}async function j(){await g.shutdown()}(0,f.D)([h,i,j]),(0,d.A)(h,"70b793eb31d5b1113a4b0f4a6196e23695db2b8265",null),(0,d.A)(i,"607312533d35979839dc3b424efddee0e1ca306bb6",null),(0,d.A)(j,"000b741a22d3021fbffe9333c1692878838fa1c607",null)},16638:a=>{function b(a){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b}b.keys=()=>[],b.resolve=b,b.id=16638,a.exports=b},24871:(a,b,c)=>{"use strict";c.d(b,{$:()=>d});let d={api:{baseURL:"https://api.tenantflow.app/api/v1",timeout:3e4},supabase:{url:"https://bshjmbshupiibfiewpxb.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzaGptYnNodXBpaWJmaWV3cHhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0MDc1MDYsImV4cCI6MjA2Mzk4MzUwNn0.K9cR4SN_MtutRWPJsymtAtlHpEJFyfnQgtu8BjQRqko"},stripe:{publishableKey:"pk_live_51Rd0qyP3WCR53SdoTX2cuAbujIY3WaQSSpu1esdawYD3m96SLWyRRavIZpJkh9BDNdIr8DwYluWVoMQCMqLRUf6Y00jWRkMx8j"},analytics:{posthogKey:"phc_rSyH7L2ImIDIi4evbhKV2sozqmf5PWIZvGzFfrfuVHf",posthogHost:"https://us.i.posthog.com"},app:{env:"production",version:"1.0.0",name:"TenantFlow"},features:{analytics:!0,errorReporting:!0}}},41571:(a,b,c)=>{"use strict";c.d(b,{J:()=>g});var d=c(13486);c(60159);var e=c(44207),f=c(26518);function g({className:a,...b}){return(0,d.jsx)(e.b,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},54748:(a,b,c)=>{"use strict";c.d(b,{AuthRedirect:()=>d});let d=(0,c(66352).registerClientReference)(function(){throw Error("Attempted to call AuthRedirect() from the server but AuthRedirect is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/richard/Developer/tenant-flow/apps/frontend/src/components/auth/auth-redirect.tsx","AuthRedirect")},61332:(a,b,c)=>{"use strict";c.d(b,{jN:()=>C,HW:()=>E,iC:()=>z,Zm:()=>B,oC:()=>F,Up:()=>H,G6:()=>G,HG:()=>A,RJ:()=>D});var d=c(10841);c(10935);var e=c(30194),f=c(42543),g=c(14787),h=c(10523),i=c(12360),j=c(18046),k=c.n(j);let l={strict:{allowedTags:[],allowedAttributes:{},allowedSchemes:[],forbiddenTags:["script","object","embed","iframe","form","input","textarea"],forbiddenAttributes:["on*","javascript:","vbscript:","data:"]},basic:{allowedTags:["b","i","em","strong","p","br","span"],allowedAttributes:{"*":["class"]},allowedSchemes:[],forbiddenTags:["script","object","embed","iframe","form","input","textarea","style"],forbiddenAttributes:["on*","javascript:","vbscript:","data:","style"]},rich:{allowedTags:["h1","h2","h3","h4","h5","h6","p","br","span","div","b","i","u","em","strong","ul","ol","li","a","img","blockquote","code","pre"],allowedAttributes:{a:["href","title","target"],img:["src","alt","title","width","height"],"*":["class"]},allowedSchemes:["http","https","mailto"],forbiddenTags:["script","object","embed","iframe","form","input","textarea","style"],forbiddenAttributes:["on*","javascript:","vbscript:","data:"]}},m=[/<script[\s\S]*?>[\s\S]*?<\/script>/gi,/javascript:/gi,/vbscript:/gi,/on\w+\s*=/gi,/data:text\/html/gi,/data:text\/javascript/gi,/data:application\/javascript/gi,/expression\s*\(/gi,/behaviour\s*:/gi,/-moz-binding\s*:/gi,/<iframe[\s\S]*?>/gi,/<object[\s\S]*?>/gi,/<embed[\s\S]*?>/gi,/<form[\s\S]*?>/gi,/<input[\s\S]*?>/gi,/<textarea[\s\S]*?>/gi,/<svg[\s\S]*?on\w+[\s\S]*?>/gi,/<meta[\s\S]*?http-equiv[\s\S]*?refresh/gi],n=[/(\b(union|select|insert|update|delete|drop|create|alter|exec|execute)\b)/gi,/(\b(or|and)\b\s+\d+\s*=\s*\d+)/gi,/(['"])\s*;\s*(drop|delete|insert|update)/gi,/(\bor\b\s+['"]?\d+['"]?\s*=\s*['"]?\d+['"]?)/gi,/(\/\*[\s\S]*?\*\/)/gi,/(--\s*[\r\n])/gi],o=[/\.\.[\\/]/g,/~[\\/]/g,/\%2e\%2e[\\/]/gi,/\%252e\%252e[\\/]/gi],p=[/[;&|`$()]/g,/\b(cat|ls|pwd|id|whoami|uname|wget|curl|nc|netcat)\b/gi];function q(a){return"string"!=typeof a?"":a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function r(a,b={}){let{type:c="text",maxLength:d=1e4,allowEmpty:e=!1,htmlProfile:f="basic",strict:g=!1}=b,h=[],i=[],j="";if("string"!=typeof a)if(null==a)return e||h.push("Input is required"),{valid:e,sanitized:"",errors:h,warnings:i};else a=String(a);let s=a;if(s.length>d)return h.push(`Input exceeds maximum length of ${d} characters`),{valid:!1,sanitized:"",errors:h,warnings:i};if(!e&&0===s.trim().length)return h.push("Input cannot be empty"),{valid:!1,sanitized:"",errors:h,warnings:i};let t=function(a){if("string"!=typeof a)return{isXSS:!1,patterns:[],severity:"low"};let b=[];for(let c of m)a.match(c)&&b.push(c.source);let c=b.length>2?"high":b.length>0?"medium":"low";return{isXSS:b.length>0,patterns:b,severity:c}}(s),u=function(a){if("string"!=typeof a)return{isSQLI:!1,patterns:[],severity:"low"};let b=[];for(let c of n)a.match(c)&&b.push(c.source);let c=b.length>2?"high":b.length>0?"medium":"low";return{isSQLI:b.length>0,patterns:b,severity:c}}(s),v="string"==typeof s&&o.some(a=>a.test(s)),w="string"==typeof s&&p.some(a=>a.test(s));switch(g?(t.isXSS&&h.push("Potential XSS content detected"),u.isSQLI&&h.push("Potential SQL injection detected"),v&&h.push("Path traversal attempt detected"),w&&h.push("Command injection attempt detected")):(t.isXSS&&"high"===t.severity&&i.push("Potentially malicious content was sanitized"),u.isSQLI&&i.push("SQL-like patterns were detected and sanitized")),c){case"html":j=function(a,b="basic"){if("string"!=typeof a||!a.trim())return"";let c=l[b],d={ALLOWED_TAGS:c.allowedTags,ALLOWED_ATTR:Object.keys(c.allowedAttributes).reduce((a,b)=>[...a,...c.allowedAttributes[b]],[]),ALLOWED_URI_REGEXP:c.allowedSchemes.length>0?RegExp(`^(?:${c.allowedSchemes.join("|")}):`,"i"):/^$/,FORBID_TAGS:c.forbiddenTags,FORBID_ATTR:c.forbiddenAttributes,ALLOW_DATA_ATTR:!1,ALLOW_UNKNOWN_PROTOCOLS:!1,SANITIZE_DOM:!0,KEEP_CONTENT:!0};return k().sanitize(a,d)}(s,f);break;case"url":j=function(a){if("string"!=typeof a||!a.trim())return"";let b=a.trim();if(/^(javascript|vbscript|data|file|ftp):/i.test(b))return"";let c=/^[\/\.\w-]/.test(b);return/^(https?|mailto):/i.test(b)||c?encodeURI(decodeURI(b)):""}(s);break;case"email":j=q(s.toLowerCase().trim());break;case"phone":j=s.replace(/[^\d\s\-\(\)\+]/g,"");break;case"number":j=s.replace(/[^\d\.\-]/g,"");break;default:j=q(s)}return{valid:0===h.length,sanitized:j,errors:h,warnings:i}}g.Ik({name:g.Yj().min(1,"Property name is required").max(100),address:g.Yj().min(1,"Address is required").max(200),city:g.Yj().min(1,"City is required").max(100),state:g.Yj().min(2,"State is required").max(2),zipCode:g.Yj().min(5,"ZIP code is required").max(10),propertyType:g.k5(["SINGLE_FAMILY","APARTMENT","CONDO","TOWNHOUSE","OTHER"]),description:g.Yj().optional()}),g.Ik({firstName:g.Yj().min(1,"First name is required").max(50),lastName:g.Yj().min(1,"Last name is required").max(50),email:g.Yj().email("Valid email is required"),phone:g.Yj().min(10,"Phone number is required"),dateOfBirth:g.p6().optional(),emergencyContact:g.Ik({name:g.Yj().optional(),phone:g.Yj().optional()}).optional()}),g.Ik({tenantId:g.Yj().uuid("Valid tenant ID is required"),propertyId:g.Yj().uuid("Valid property ID is required"),unitId:g.Yj().uuid().optional(),startDate:g.p6(),endDate:g.p6(),monthlyRent:g.ai().positive("Monthly rent must be positive"),securityDeposit:g.ai().nonnegative("Security deposit cannot be negative"),leaseTerms:g.Yj().optional()});let s={requiredString:a=>g.Yj().min(1,`${a} is required`),optionalString:g.Yj().optional(),name:g.Yj().min(1,"Name is required").max(100,"Name must be less than 100 characters").transform(a=>q(a)).refine(a=>r(a,{type:"text",strict:!0}).valid,"Name contains invalid characters"),title:g.Yj().min(1,"Title is required").max(100,"Title must be less than 100 characters"),description:g.Yj().min(10,"Please provide a detailed description").max(1e3,"Description must be less than 1000 characters").transform(a=>q(a)).refine(a=>r(a,{type:"text",strict:!0}).valid,"Description contains invalid or potentially dangerous content"),email:g.Yj().min(1,"Email is required").email("Please enter a valid email address").transform(a=>a.toLowerCase().trim()).refine(a=>r(a,{type:"email",strict:!0}).valid,"Email contains invalid characters"),phone:g.Yj().min(1,"Phone number is required").regex(/^\+?[\d\s\-()]+$/,"Please enter a valid phone number"),address:g.Yj().min(1,"Address is required"),city:g.Yj().min(1,"City is required"),state:g.Yj().min(1,"State is required"),zipCode:g.Yj().min(1,"ZIP code is required").regex(/^\d{5}(-\d{4})?$/,"Please enter a valid ZIP code"),positiveNumber:g.ai().min(0,"Must be a positive number"),currency:g.ai().min(0,"Amount must be positive"),percentage:g.ai().min(0).max(100,"Percentage must be between 0 and 100"),propertyType:g.k5(["SINGLE_FAMILY","MULTI_FAMILY","APARTMENT","COMMERCIAL","OTHER"]),unitNumber:g.Yj().min(1,"Unit number is required").max(20,"Unit number must be less than 20 characters"),bedrooms:g.ai().min(0).max(10),bathrooms:g.ai().min(0).max(10),squareFeet:g.ai().min(100).max(1e4).optional(),rent:g.ai().min(0).max(1e5),unitStatus:g.k5(["VACANT","OCCUPIED","MAINTENANCE","UNAVAILABLE"]),maintenancePriority:g.k5(["LOW","MEDIUM","HIGH","URGENT"]),maintenanceCategory:g.k5(["PLUMBING","ELECTRICAL","HVAC","APPLIANCE","GENERAL","EMERGENCY"]),date:g.p6(),optionalDate:g.p6().optional(),file:g.Nl(File).optional().refine(async a=>{if(!a)return!0;let{validateFile:b}=await c.e(4787).then(c.bind(c,74787));return(await b(a,"documents")).valid},"File failed security validation")},t=a=>g.Ik(a);t({name:s.name,description:s.description,address:s.address,city:s.city,state:s.state,zipCode:s.zipCode,propertyType:s.propertyType,numberOfUnits:s.positiveNumber}),t({unitNumber:s.unitNumber,propertyId:s.requiredString("Property ID"),bedrooms:s.bedrooms,bathrooms:s.bathrooms,squareFeet:s.squareFeet,rent:s.rent,status:s.unitStatus}),t({unitId:s.requiredString("Unit"),title:s.title,description:s.description,category:s.maintenanceCategory,priority:s.maintenancePriority}),t({name:s.name,email:s.email,phone:s.phone,emergencyContactName:s.name,emergencyContactPhone:s.phone}),t({amount:s.currency,dueDate:s.date,description:s.description}),t({tenantId:s.requiredString("Tenant"),unitId:s.requiredString("Unit"),startDate:s.date,endDate:s.date,monthlyRent:s.currency,securityDeposit:s.currency,terms:s.description}),t({email:s.email,password:g.Yj().min(1,"Password is required")}),t({email:s.email,password:g.Yj().min(8,"Password must be at least 8 characters"),confirmPassword:g.Yj().min(1,"Please confirm your password"),firstName:s.name,lastName:s.name}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),t({firstName:s.name,lastName:s.name,phone:s.phone.optional(),address:s.address.optional(),city:s.city.optional(),state:s.state.optional(),zipCode:s.zipCode.optional()});var u=c(52943);let v=g.Ik({email:s.email,password:g.Yj().min(6,"Password must be at least 6 characters")}),w=g.Ik({email:s.email,password:g.Yj().min(8,"Password must be at least 8 characters"),confirmPassword:g.Yj().min(8,"Password must be at least 8 characters"),fullName:s.name,companyName:s.optionalString}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),x=g.Ik({email:s.email}),y=g.Ik({password:g.Yj().min(8,"Password must be at least 8 characters"),confirmPassword:g.Yj().min(8,"Password must be at least 8 characters")}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});async function z(a,b){let c={email:b.get("email"),password:b.get("password")},d=v.safeParse(c);if(!d.success)return{errors:d.error.flatten().fieldErrors};try{let{data:a,error:b}=await h.j2.signInWithPassword({email:d.data.email,password:d.data.password});if(b)return await (0,i.yY)("user_login_failed",void 0,{error_message:b.message,email_domain:d.data.email.split("@")[1],method:"email"}),{errors:{_form:[b.message]}};a.user&&await (0,i.yY)("user_signed_in",a.user.id,{method:"email",email:a.user.email,user_id:a.user.id,session_id:a.session?.access_token?.slice(-8)}),(0,e.revalidateTag)("user"),(0,e.revalidateTag)("session"),(0,f.redirect)("/dashboard")}catch(a){return{errors:{_form:[a instanceof Error?a.message:"Login failed"]}}}}async function A(a,b){let c={email:b.get("email"),password:b.get("password"),confirmPassword:b.get("confirmPassword"),fullName:b.get("fullName"),companyName:b.get("companyName")},d=w.safeParse(c);if(!d.success)return{errors:d.error.flatten().fieldErrors};try{let{data:a,error:b}=await h.j2.signUp({email:d.data.email,password:d.data.password,options:{data:{full_name:d.data.fullName,company_name:d.data.companyName}}});if(b)return await (0,i.yY)("user_signup_failed",void 0,{error_message:b.message,email_domain:d.data.email.split("@")[1],has_company_name:!!d.data.companyName}),{errors:{_form:[b.message]}};return a.user&&await (0,i.yY)("user_signed_up",a.user.id,{method:"email",email:a.user.email,user_id:a.user.id,has_company_name:!!d.data.companyName,full_name:d.data.fullName,needs_email_verification:!a.user.email_confirmed_at}),{success:!0,message:"Account created! Please check your email to verify your account."}}catch(a){return{errors:{_form:[a instanceof Error?a.message:"Signup failed"]}}}}async function B(){try{let{data:{user:a}}=await h.ND.auth.getUser();await h.j2.signOut(),a&&await (0,i.yY)("user_signed_out",a.id,{user_id:a.id,email:a.email,logout_method:"manual"}),(0,e.revalidateTag)("user"),(0,e.revalidateTag)("session"),(0,e.revalidateTag)("properties"),(0,e.revalidateTag)("tenants"),(0,e.revalidateTag)("leases"),(0,e.revalidateTag)("maintenance"),(0,f.redirect)("/")}catch(b){let a=b instanceof Error?b.message:"Unknown error";return console.error("Logout error:",a),{errors:{_form:[a]}}}}async function C(a,b){let c={email:b.get("email")},d=x.safeParse(c);if(!d.success)return{errors:d.error.flatten().fieldErrors};try{let{error:a}=await h.j2.resetPasswordForEmail(d.data.email,{redirectTo:`${process.env.NEXT_PUBLIC_SITE_URL}/auth/update-password`});if(a)return{errors:{_form:[a.message]}};return{success:!0,message:"Password reset email sent! Check your inbox for instructions."}}catch(a){return{errors:{_form:[a instanceof Error?a.message:"Failed to send reset email"]}}}}async function D(a,b){let c={password:b.get("password"),confirmPassword:b.get("confirmPassword")},d=y.safeParse(c);if(!d.success)return{errors:d.error.flatten().fieldErrors};try{let{error:a}=await h.j2.updateUser({password:d.data.password});if(a)return{errors:{_form:[a.message]}};return(0,e.revalidateTag)("user"),{success:!0,message:"Password updated successfully!"}}catch(a){return{errors:{_form:[a instanceof Error?a.message:"Failed to update password"]}}}}async function E(){try{let{data:{user:a}}=await h.ND.auth.getUser();if(!a)return null;return{id:a.id,email:a.email,name:a.user_metadata?.full_name||a.email,avatar_url:a.user_metadata?.avatar_url}}catch(a){return console.error("Get current user error:",a),null}}async function F(){let a=await E();return a||(0,f.redirect)("/login"),a}async function G(){let a=process.env.NEXT_PUBLIC_SITE_URL||"https://tenantflow.app",b=`${a}/auth/callback`;console.log("[OAuth Debug] Initiating Google sign-in with redirect to:",b);let{data:c,error:d}=await h.j2.signInWithOAuth({provider:"google",options:{redirectTo:b,queryParams:{access_type:"offline",prompt:"consent"}}});if(d)throw console.error("[OAuth Error] Google sign-in failed:",d),await (0,i.yY)("user_oauth_failed",void 0,{provider:"google",error_message:d.message,method:"oauth"}),Error("Unable to sign in with Google. Please try again or contact support if the issue persists.");if(await (0,i.yY)("user_oauth_initiated",void 0,{provider:"google",method:"oauth",redirect_url:c.url}),c.url)console.log("[OAuth Debug] Redirecting to Google OAuth URL:",c.url),(0,f.redirect)(c.url);else throw console.error("[OAuth Error] No redirect URL received from Supabase"),Error("Authentication service temporarily unavailable. Please try again in a few moments.")}async function H(){let a=process.env.NEXT_PUBLIC_SITE_URL||"https://tenantflow.app",b=`${a}/auth/callback`;console.log("[OAuth Debug] Initiating GitHub sign-in with redirect to:",b);let{data:c,error:d}=await h.j2.signInWithOAuth({provider:"github",options:{redirectTo:b}});if(d)throw console.error("[OAuth Error] GitHub sign-in failed:",d),await (0,i.yY)("user_oauth_failed",void 0,{provider:"github",error_message:d.message,method:"oauth"}),Error("Unable to sign in with GitHub. Please try again or contact support if the issue persists.");if(await (0,i.yY)("user_oauth_initiated",void 0,{provider:"github",method:"oauth",redirect_url:c.url}),c.url)console.log("[OAuth Debug] Redirecting to GitHub OAuth URL:",c.url),(0,f.redirect)(c.url);else throw console.error("[OAuth Error] No redirect URL received from Supabase"),Error("Authentication service temporarily unavailable. Please try again in a few moments.")}(0,u.D)([z,A,B,C,D,E,F,G,H]),(0,d.A)(z,"60e4b29a88cab62dd73500a9569735490312b9001a",null),(0,d.A)(A,"60bf5fb209eabb381d3465c437d7401bf5e7a9f829",null),(0,d.A)(B,"002ef5f9e6d0a68628a740a769ca8369cccd8f8cb6",null),(0,d.A)(C,"602dfc4bad3f8895d90122c3f093fd3fd2dd412239",null),(0,d.A)(D,"601ad9435bde691e8615c09ea76c68774781a5df3f",null),(0,d.A)(E,"003f387255f2d46c82299d96ccf50c73df598a589f",null),(0,d.A)(F,"0042491dc4c1366d056d39f9939e50a9c8e61f5f7d",null),(0,d.A)(G,"0039403314be89ddb8662fb399582d817b7b15445c",null),(0,d.A)(H,"005ebea06dc48565ac5320ce3e767292e4a0470247",null)},73494:(a,b,c)=>{"use strict";c.d(b,{l:()=>f});var d=c(13486),e=c(86e3);function f({message:a,type:b="error"}){return(0,d.jsx)("div",{className:`${"error"===b?"bg-destructive/10":"bg-yellow-50"} ${"error"===b?"border-destructive/20":"border-yellow-200"} border rounded-md p-3`,children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(e.A,{className:`h-4 w-4 ${"error"===b?"text-destructive":"text-yellow-600"}`}),(0,d.jsx)("p",{className:`text-sm ${"error"===b?"text-destructive":"text-yellow-800"}`,children:a})]})})}},83143:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"000b741a22d3021fbffe9333c1692878838fa1c607":()=>e.lg,"002ef5f9e6d0a68628a740a769ca8369cccd8f8cb6":()=>d.Zm,"0039403314be89ddb8662fb399582d817b7b15445c":()=>d.G6,"003f387255f2d46c82299d96ccf50c73df598a589f":()=>d.HW,"0042491dc4c1366d056d39f9939e50a9c8e61f5f7d":()=>d.oC,"005ebea06dc48565ac5320ce3e767292e4a0470247":()=>d.Up,"601ad9435bde691e8615c09ea76c68774781a5df3f":()=>d.RJ,"602dfc4bad3f8895d90122c3f093fd3fd2dd412239":()=>d.jN,"607312533d35979839dc3b424efddee0e1ca306bb6":()=>e.gm,"60bf5fb209eabb381d3465c437d7401bf5e7a9f829":()=>d.HG,"60e4b29a88cab62dd73500a9569735490312b9001a":()=>d.iC,"70b793eb31d5b1113a4b0f4a6196e23695db2b8265":()=>e.yY});var d=c(61332),e=c(12360)}};