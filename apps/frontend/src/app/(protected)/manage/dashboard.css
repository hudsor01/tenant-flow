@reference "../../globals.css";

/* Dashboard-specific Color Variables */
:root {
	--color-primary: #2C7FFF;
	--color-primary-light: #e8f2ff;
	--color-dashboard-background: #f0f4fb;
}

.dashboard-root {
	contain: layout style paint;
	will-change: auto;
	scroll-behavior: smooth;
	scroll-snap-type: y proximity;
}

.dashboard-main {
	scroll-behavior: smooth;
	scroll-padding-top: 2rem;
	overscroll-behavior: contain;
	scroll-snap-align: start;
}

.dashboard-main input[type='search'],
.dashboard-main textarea {
	field-sizing: content;
}

.dashboard-main :focus-visible {
	outline: 2px solid color-mix(in srgb, var(--color-primary) 80%, transparent);
	outline-offset: 2px;
	border-radius: 2px;
	transition: outline-color 150ms ease;
}

.dashboard-main input[type='checkbox'],
.dashboard-main input[type='radio'] {
	accent-color: var(--color-primary);
}

.dashboard-main input[type='range'] {
	accent-color: var(--color-primary);
}

.dashboard-main select {
	caret-color: var(--color-primary);
}

.dashboard-main input[type='text'],
.dashboard-main input[type='email'],
.dashboard-main input[type='password'],
.dashboard-main textarea {
	caret-color: var(--color-primary);
	transition: caret-color 150ms ease;
}

.dashboard-table {
	contain: layout style;
	table-layout: fixed;
	border-collapse: collapse;
	border-spacing: 0;
}

.dashboard-table th {
	position: sticky;
	top: 0;
	background: var(--color-background);
	z-index: 10;
	backdrop-filter: blur(8px);
	cursor: pointer;
	transition: background-color 150ms ease;
}

.dashboard-table th:hover {
	background-color: color-mix(in srgb, var(--color-muted) 20%, transparent);
}

.dashboard-table tr:hover {
	background-color: color-mix(in srgb, var(--color-muted) 30%, transparent);
	transition: background-color 0.15s ease;
}

.dashboard-section {
	scroll-snap-align: start;
	scroll-margin-top: 1rem;
}

.dashboard-cards-container {
	container-type: inline-size;
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
	gap: 1.5rem;
	margin-bottom: 2rem;
}

.dashboard-widget {
	container-type: inline-size;
	background: var(--color-card);
	border: 1px solid var(--color-border);
	border-radius: var(--radius-lg);
	padding: 1.5rem;
	transition: all 0.2s ease;
}

@container (min-width: 240px) {
	.dashboard-widget {
		padding: 1rem;
	}

	.widget-title {
		font-size: 0.875rem;
		font-weight: 500;
	}

	.widget-content {
		margin-top: 0.5rem;
	}
}

@container (min-width: 320px) {
	.dashboard-widget {
		padding: 1.25rem;
	}

	.widget-title {
		font-size: 1rem;
		font-weight: 600;
	}

	.widget-value {
		font-size: 1.5rem;
		font-weight: 700;
		margin-top: 0.5rem;
	}
}

@container (min-width: 480px) {
	.dashboard-widget {
		padding: 1.5rem;
	}

	.widget-title {
		font-size: 1.125rem;
	}

	.widget-value {
		font-size: 2rem;
	}

	.widget-subtitle {
		font-size: 0.875rem;
		color: var(--color-muted-foreground);
		margin-top: 0.25rem;
	}
}

@container (min-width: 640px) {
	.dashboard-widget {
		padding: 2rem;
	}

	.widget-layout-horizontal {
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	.widget-icon {
		width: 2.5rem;
		height: 2.5rem;
	}
}

.property-image-container {
	position: relative;
	overflow: hidden;
	border-radius: var(--radius);
}

.property-image-16-9 {
	aspect-ratio: 16 / 9;
}

.property-image-4-3 {
	aspect-ratio: 4 / 3;
}

.property-image-square {
	aspect-ratio: 1 / 1;
}

.dashboard-metric-card {
	aspect-ratio: 3 / 2;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	background: var(--color-card);
	border: 1px solid var(--color-border);
	border-radius: var(--radius-lg);
	padding: 1.5rem;
	text-align: center;
	transition: all 0.2s ease;
}

.dashboard-metric-card:hover {
	border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
	box-shadow: 0 4px 12px
		color-mix(in srgb, var(--color-primary) 10%, transparent);
}

.chart-container-landscape {
	aspect-ratio: 16 / 10;
	width: 100%;
}

.chart-container-square {
	aspect-ratio: 1 / 1;
	width: 100%;
}

.chart-container-tall {
	aspect-ratio: 3 / 4;
	width: 100%;
}

.avatar-container {
	aspect-ratio: 1 / 1;
	border-radius: 50%;
	overflow: hidden;
	background: var(--color-muted);
}

.profile-banner-container {
	aspect-ratio: 21 / 9;
	position: relative;
	overflow: hidden;
	border-radius: var(--radius-lg);
	background: linear-gradient(
		135deg,
		var(--color-primary),
		color-mix(in srgb, var(--color-primary) 70%, var(--color-accent))
	);
}

.dashboard-card-premium {
	background: linear-gradient(
		145deg,
		var(--color-card),
		color-mix(in srgb, var(--color-accent) 10%, transparent)
	);
	border: 1px solid color-mix(in srgb, var(--color-accent) 30%, transparent);
	border-radius: var(--radius-xl);
	position: relative;
	overflow: hidden;
}

.dashboard-card-premium::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	height: 1px;
	background: linear-gradient(
		90deg,
		transparent,
		color-mix(in srgb, var(--color-primary) 50%, transparent),
		transparent
	);
}

.dashboard-card-premium:hover {
	background: linear-gradient(
		145deg,
		color-mix(in srgb, var(--color-card) 95%, transparent),
		color-mix(in srgb, var(--color-accent) 15%, transparent)
	);
	border-color: color-mix(in srgb, var(--color-accent) 50%, transparent);
}

/* Dashboard layout scaffolding */
.dashboard-content {
	display: flex;
	flex-direction: column;
	gap: clamp(2rem, 3vw, 3.25rem);
}

.dashboard-section {
	display: flex;
	flex-direction: column;
	gap: clamp(1rem, 2vw, 1.75rem);
	padding-block: 0.25rem;
}

.dashboard-section + .dashboard-section {
	margin-top: clamp(1.5rem, 3vw, 2.5rem);
}

.dashboard-section-header {
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.dashboard-section-title {
	font-size: clamp(1.1rem, 1.5vw, 1.5rem);
	font-weight: 700;
	letter-spacing: -0.01em;
	color: var(--color-label-primary, var(--foreground));
	text-wrap: balance;
}

.dashboard-section-description {
	font-size: 0.95rem;
	color: var(--color-label-secondary, var(--muted-foreground));
}

/* Panel + card surfaces */
.dashboard-panel {
	position: relative;
	display: flex;
	flex-direction: column;
	border-radius: var(--radius-xl);
	border: 1px solid color-mix(in oklch, var(--color-border) 90%, transparent);
	background: color-mix(in oklch, var(--color-card) 98%, transparent);
	box-shadow: 0 35px 80px -45px
		color-mix(in oklch, var(--color-primary-brand) 32%, transparent);
	transition: border-color 180ms ease, box-shadow 200ms ease,
		transform 200ms ease;
}

.dashboard-panel:hover,
.dashboard-panel:focus-visible,
.dashboard-panel:focus-within {
	border-color: color-mix(
		in oklch,
		var(--color-primary-brand) 35%,
		var(--color-border)
	);
	box-shadow: 0 40px 90px -45px
		color-mix(in oklch, var(--color-primary-brand) 40%, transparent);
	transform: translateY(-2px);
}

.dark .dashboard-panel {
	background: color-mix(in oklch, var(--color-card) 94%, transparent);
	border-color: color-mix(in oklch, var(--color-border) 75%, transparent);
	box-shadow: 0 45px 90px -60px
		color-mix(in oklch, var(--color-primary-brand) 30%, rgb(0 0 0 / 0.6));
}

.dashboard-panel-header {
	padding: clamp(1rem, 2vw, 1.5rem) clamp(1.25rem, 2.5vw, 2rem);
	border-bottom: 1px solid color-mix(in oklch, var(--color-border) 85%, transparent);
	background: linear-gradient(
		120deg,
		color-mix(in oklch, var(--color-primary-brand) 12%, transparent),
		transparent
	);
}

.dashboard-panel-header[data-variant='activity'] {
	background: linear-gradient(
		120deg,
		color-mix(in oklch, var(--color-primary-brand) 18%, transparent),
		transparent
	);
}

.dashboard-panel-header[data-variant='actions'] {
	background: linear-gradient(
		120deg,
		color-mix(in oklch, var(--color-clean-accent-400) 22%, transparent),
		transparent
	);
}

.dashboard-panel-header[data-variant='performance'] {
	background: linear-gradient(
		120deg,
		color-mix(in oklch, var(--color-corporate-blue-400) 18%, transparent),
		transparent
	);
}

.dashboard-panel-title {
	font-size: clamp(1.125rem, 1.5vw, 1.45rem);
	font-weight: 700;
	color: var(--color-label-primary, var(--foreground));
}

.dashboard-panel-description {
	font-size: 0.95rem;
	color: var(--color-label-secondary, var(--muted-foreground));
}

.dashboard-panel-body {
	padding: clamp(1.25rem, 2.5vw, 2rem);
	display: flex;
	flex-direction: column;
	gap: clamp(1rem, 2vw, 1.75rem);
}

.dashboard-panel[data-density='compact'] .dashboard-panel-body {
	padding-block: 1.25rem;
	gap: 1rem;
}

/* Shared grids */
.dashboard-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
	gap: clamp(1rem, 2vw, 1.75rem);
}

.dashboard-table-wrapper {
	border-radius: var(--radius-xl);
	border: 1px solid color-mix(in oklch, var(--color-border) 90%, transparent);
	background: color-mix(in oklch, var(--color-card) 99%, transparent);
	overflow: hidden;
	box-shadow: 0 30px 90px -45px
		color-mix(in oklch, var(--color-primary-brand) 30%, transparent);
}

.dashboard-empty-state {
	display: flex;
	flex-direction: column;
	align-items: center;
	text-align: center;
	gap: 0.75rem;
	padding: 1.75rem;
	border-radius: var(--radius-xl);
	border: 1px dashed color-mix(in oklch, var(--color-border) 85%, transparent);
	background: color-mix(in oklch, var(--color-card) 96%, transparent);
	color: var(--color-muted-foreground);
}

/* Quick actions */
.dashboard-quick-actions {
	display: flex;
	flex-direction: column;
	gap: 0.85rem;
}

.dashboard-quick-action {
	position: relative;
	display: flex;
	align-items: center;
	gap: 1rem;
	min-height: var(--spacing-11);
	padding: clamp(0.85rem, 1.5vw, 1.25rem) clamp(1rem, 2vw, 1.5rem);
	border-radius: var(--radius-xl);
	border: 1px solid color-mix(in oklch, var(--color-border) 90%, transparent);
	background: linear-gradient(
		135deg,
		color-mix(in oklch, var(--color-card) 96%, transparent),
		color-mix(in oklch, var(--color-muted) 35%, transparent)
	);
	text-decoration: none;
	color: var(--color-label-primary, var(--foreground));
	overflow: hidden;
	transition: border-color 180ms ease, background 200ms ease,
		transform 200ms ease, box-shadow 200ms ease;
}

.dashboard-quick-action::after {
	content: '';
	position: absolute;
	inset: 0;
	background: linear-gradient(
		120deg,
		transparent,
		color-mix(in oklch, var(--color-primary-brand) 15%, transparent)
	);
	opacity: 0;
	transition: opacity 200ms ease;
}

.dashboard-quick-action:hover,
.dashboard-quick-action:focus-visible {
	border-color: color-mix(
		in oklch,
		var(--color-primary-brand) 35%,
		var(--color-border)
	);
	box-shadow: 0 25px 60px -40px
		color-mix(in oklch, var(--color-primary-brand) 28%, transparent);
	transform: translateY(-1px);
}

.dashboard-quick-action:hover::after,
.dashboard-quick-action:focus-visible::after {
	opacity: 1;
}

.dashboard-quick-action-icon {
	display: grid;
	place-items: center;
	width: clamp(2.75rem, 2vw, 3rem);
	height: clamp(2.75rem, 2vw, 3rem);
	border-radius: var(--radius-full);
	background: color-mix(in oklch, var(--color-primary-brand) 18%, transparent);
	color: var(--color-primary-brand, var(--primary));
	border: 1px solid color-mix(in oklch, var(--color-primary-brand) 35%, transparent);
	box-shadow: inset 0 0 0 1px
		color-mix(in oklch, var(--color-primary-brand) 30%, transparent);
}

.dashboard-quick-action-content {
	flex: 1;
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.dashboard-quick-action-title {
	font-size: 1rem;
	font-weight: 600;
	line-height: 1.3;
}

.dashboard-quick-action-description {
	font-size: 0.9rem;
	color: var(--color-label-secondary, var(--muted-foreground));
}

.dashboard-quick-action-chevron {
	display: grid;
	place-items: center;
	width: 2.25rem;
	height: 2.25rem;
	border-radius: var(--radius-full);
	background: color-mix(in oklch, var(--color-muted) 40%, transparent);
	color: var(--color-label-secondary, var(--muted-foreground));
	transition: background 180ms ease, color 180ms ease, transform 200ms ease;
}

.dashboard-quick-action:hover .dashboard-quick-action-chevron,
.dashboard-quick-action:focus-visible .dashboard-quick-action-chevron {
	background: color-mix(in oklch, var(--color-primary-brand) 20%, transparent);
	color: var(--color-primary-foreground, #fff);
	transform: translateX(2px);
}

/* Activity feed */
.dashboard-activity-feed {
	display: flex;
	flex-direction: column;
	gap: 1rem;
}

.dashboard-activity-item {
	display: flex;
	gap: 1rem;
	padding: 0.85rem 0.5rem;
	border-radius: var(--radius-lg);
	border: 1px solid transparent;
	transition: border-color 150ms ease, background 150ms ease,
		transform 150ms ease;
}

.dashboard-activity-item:hover {
	background: color-mix(in oklch, var(--color-muted) 25%, transparent);
	border-color: color-mix(in oklch, var(--color-border) 75%, transparent);
	transform: translateY(-1px);
}

.dashboard-activity-icon {
	flex-shrink: 0;
	display: grid;
	place-items: center;
	width: 2.75rem;
	height: 2.75rem;
	border-radius: var(--radius-full);
	background: color-mix(in oklch, var(--color-primary-brand) 15%, transparent);
	color: var(--color-primary-brand, var(--primary));
	border: 1px solid color-mix(in oklch, var(--color-primary-brand) 35%, transparent);
}

.dashboard-activity-title {
	font-size: 0.95rem;
	font-weight: 600;
	color: var(--color-label-primary, var(--foreground));
}

.dashboard-activity-entity {
	font-size: 0.85rem;
	color: var(--color-label-secondary, var(--muted-foreground));
}

.dashboard-activity-meta {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	font-size: 0.8rem;
	color: var(--color-label-tertiary, var(--muted-foreground));
	margin-top: 0.25rem;
}

.dashboard-activity-empty {
	padding: 1.25rem;
	border-radius: var(--radius-lg);
	border: 1px dashed color-mix(in oklch, var(--color-border) 85%, transparent);
	text-align: center;
	color: var(--color-muted-foreground);
	background: color-mix(in oklch, var(--color-card) 97%, transparent);
}

.dashboard-activity-footer {
	padding-top: 1rem;
	margin-top: 0.5rem;
	border-top: 1px solid color-mix(in oklch, var(--color-border) 80%, transparent);
}

/* Charts */
.dashboard-chart-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
	gap: clamp(1rem, 2vw, 1.75rem);
}

.dashboard-chart-card {
	display: flex;
	flex-direction: column;
	gap: 1rem;
	min-height: 18rem;
	border-radius: var(--radius-xl);
	border: 1px solid color-mix(in oklch, var(--color-border) 90%, transparent);
	background: color-mix(in oklch, var(--color-card) 99%, transparent);
	box-shadow: 0 30px 80px -45px
		color-mix(in oklch, var(--color-primary-brand) 30%, transparent);
	padding: clamp(1.25rem, 2vw, 1.75rem);
}

.dashboard-chart-card-header {
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.dashboard-chart-title {
	font-size: 1.05rem;
	font-weight: 600;
	color: var(--color-label-primary, var(--foreground));
}

.dashboard-chart-description {
	font-size: 0.9rem;
	color: var(--color-label-secondary, var(--muted-foreground));
}

.dashboard-chart-placeholder {
	display: flex;
	align-items: center;
	justify-content: center;
	text-align: center;
	min-height: 12rem;
	padding: 1.5rem;
	border-radius: var(--radius-lg);
	border: 1px dashed color-mix(in oklch, var(--color-border) 80%, transparent);
	color: var(--color-muted-foreground);
	background: color-mix(in oklch, var(--color-muted) 25%, transparent);
}

.dashboard-trend-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
	gap: 1rem;
}

.dashboard-card-surface {
	border-radius: var(--radius-xl) !important;
	border: 1px solid color-mix(in oklch, var(--color-border) 85%, transparent);
	background: color-mix(in oklch, var(--color-card) 98%, transparent);
	box-shadow: 0 25px 75px -50px
		color-mix(in oklch, var(--color-primary-brand) 32%, transparent);
	transition: border-color 180ms ease, transform 180ms ease,
		box-shadow 200ms ease;
}

.dashboard-card-surface:hover,
.dashboard-card-surface:focus-visible {
	border-color: color-mix(
		in oklch,
		var(--color-primary-brand) 35%,
		var(--color-border)
	);
	box-shadow: 0 35px 90px -55px
		color-mix(in oklch, var(--color-primary-brand) 40%, transparent);
	transform: translateY(-1px);
}

.dashboard-mini-chart {
	min-height: 8rem;
}

@media (min-width: 1024px) {
	.dashboard-chart-card[data-layout='wide'] {
		grid-column: span 2;
	}
}

@media (prefers-reduced-motion: reduce) {
	.dashboard-panel,
	.dashboard-card-surface,
	.dashboard-quick-action {
		transition: none;
	}
}

@media (max-width: 768px) {
	.dashboard-grid {
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}
}

@media (prefers-color-scheme: dark) {
	.dashboard-specific-styling .dashboard-table th {
		backdrop-filter: blur(8px) saturate(1.2);
	}
}

@media print {
	.dashboard-sidebar,
	.dashboard-nav,
	.dashboard-toolbar {
		display: none !important;
	}

	.dashboard-main {
		margin: 0 !important;
		padding: 0 !important;
	}

	.dashboard-card {
		break-inside: avoid;
		border: 1px solid var(--color-border);
		margin-bottom: 1rem;
	}
}
