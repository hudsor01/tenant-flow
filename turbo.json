{
	"$schema": "https://turbo.build/schema.json",
	"ui": "tui",
	"cacheDir": ".turbo",
	"concurrency": "10",
	"remoteCache": {
		"enabled": false
	},
	"globalEnv": [
		// Framework essentials (auto-detected)
		"CI",
		"NODE_ENV",
		"VERCEL_ENV",
		"GITHUB_ACTIONS",
		"TURBO_*",
		"VERCEL_*",
		"GITHUB_*",
		"npm_package_version",

		// Supabase (from Doppler)
		"NEXT_PUBLIC_SUPABASE_URL",
		"NEXT_PUBLIC_SUPABASE_ANON_KEY",
		"SUPABASE_SERVICE_ROLE_KEY",
		"SUPABASE_JWT_SECRET",
		"TEST_JWT_SECRET",
		"SUPABASE_URL",
		"SUPABASE_PROJECT_REF",
		"SERVICE_ROLE_KEY",
		"SUPABASE_ANON_KEY",
		"SUPABASE_SERVICE_KEY",
		"SUPABASE_SECRET_KEY",
		"SUPA_SECRET_KEY",
		"ANON_KEY",

		// Database (from Vercel)
		"POSTGRES_URL",
		"POSTGRES_PRISMA_URL",
		"POSTGRES_URL_NON_POOLING",
		"POSTGRES_USER",
		"POSTGRES_HOST",
		"POSTGRES_PASSWORD",
		"POSTGRES_DATABASE",
		"DATABASE_URL",
		"DIRECT_URL",

		// API (from Doppler)
		"NEXT_PUBLIC_API_BASE_URL",
		"API_TOKEN",
		"BACKEND_TIMEOUT_MS",

		// Stripe (from Doppler)
		"STRIPE_SECRET_KEY",
		"STRIPE_WEBHOOK_SECRET",
		"STRIPE_KEY_TEST",
		"TEST_STRIPE_PUBLISHABLE_KEY",
		"STRIPE_PUBLISHABLE_KEY",
		"NEXT_PUBLIC_STRIPE_STARTER_MONTHLY",
		"NEXT_PUBLIC_STRIPE_STARTER_ANNUAL",
		"NEXT_PUBLIC_STRIPE_GROWTH_MONTHLY",
		"NEXT_PUBLIC_STRIPE_GROWTH_ANNUAL",
		"NEXT_PUBLIC_STRIPE_ENTERPRISE_MONTHLY",
		"NEXT_PUBLIC_STRIPE_ENTERPRISE_ANNUAL",

		// Doppler
		"DOPPLER_CONFIG",
		"DOPPLER_ENVIRONMENT",
		"DOPPLER_PROJECT",
		"DOPPLER_PERSONAL_TOKEN",

		// Redis
		"REDIS_URL",
		"REDIS_PASSWORD",
		"REDISHOST",
		"REDISPORT",
		"REDISPASSWORD",

		// Feature Flags & Settings
		"FEATURE_FLAGS",
		"LOGGING",
		"LOG_LEVEL",
		"ENABLE_DETAILED_ERRORS",
		"ENABLE_CORS_ALL",
		"ENABLE_SWAGGER",
		"ENABLE_RATE_LIMITING",
		"ALLOW_LOCALHOST_CORS",
		"RATE_LIMIT_LIMIT",
		"RATE_LIMIT_TTL",
		"PUBLIC_CACHE_MAX_AGE",

		// PostHog
		"POSTHOG_API_KEY",
		"POSTHOG_MCP_SERVER_API_KEY",

		// Storage
		"STORAGE_BUCKET",
		"STORAGE_PROVIDER",

		// Health Check
		"HEALTH_CHECK_FUNCTION",

		// Other
		"PRIVATE_KEY",

		// Authentication (from Doppler)
		"JWT_SECRET",

		// Email (from Doppler)
		"RESEND_API_KEY",
		"SUPPORT_EMAIL",
		"TEST_RESEND_API_KEY",
		"TEST_EMAIL_FROM",

		// URLs (from Doppler)
		"NEXT_PUBLIC_APP_URL",
		"CORS_ORIGINS",
		"FRONTEND_URL",
		"SECURITY_MONITORING_WEBHOOK",
		"SECURITY_MONITORING_TOKEN",

		// Testing (from Doppler)
		"TEST_DATABASE_URL",
		"TEST_DATABASE_HOST",
		"TEST_DATABASE_PORT",
		"TEST_DATABASE_NAME",
		"TEST_DATABASE_USER",
		"TEST_DATABASE_PASSWORD",
		"E2E_DATABASE_URL",
		"E2E_DATABASE_HOST",
		"E2E_DATABASE_PORT",
		"E2E_DATABASE_NAME",
		"E2E_DATABASE_USER",
		"E2E_DATABASE_PASSWORD",
		"TEST_STRIPE_SECRET_KEY",
		"TEST_STRIPE_WEBHOOK_SECRET",
		"TEST_SUPABASE_ANON_KEY",
		"TEST_SUPABASE_SERVICE_KEY",
		"TEST_SUPABASE_URL",
		"ENABLE_DATA_VALIDATION_TESTS",
		"TEST_SUPABASE_JWT_SECRET",
		"TEST_SERVICE_ROLE_KEY",

		// Feature flags (from Doppler)
		"ENABLE_MOCK_AUTH",
		"ENABLE_REPORT_SCHEDULER",

		// Platform detection (automatically provided by platforms)
		"VERCEL",
		"RAILWAY_REGION",
		"RAILWAY_PROJECT_ID",
		"FLY_REGION",
		"VERCEL_REGION",
		"PORT",
		"STRIPE_MAX_MONTHLY",
		"STRIPE_MAX_ANNUAL",
		"STRIPE_SYNC_DATABASE_SCHEMA",
		"STRIPE_SYNC_AUTO_EXPAND_LISTS",
		"STRIPE_SYNC_BACKFILL_RELATED_ENTITIES",
		"TENANTFLOW_GHCR"
	],
	"globalPassThroughEnv": ["CI", "NODE_ENV", "VERCEL_*", "GITHUB_*"],
	"globalDependencies": [
		"**/.env.*",
		".prettierrc",
		"eslint.config.*",
		"pnpm-lock.yaml",
		"vercel.json"
	],
	"envMode": "strict",
	"tasks": {
		"build": {
			"dependsOn": ["^build"],
			"outputs": ["dist/**", ".next/**"]
		},
		"@repo/shared#build": {
			"dependsOn": [],
			"inputs": [
				"src/**",
				"tsconfig*.json",
				"package.json",
				"!**/*.md",
				"!**/*.test.*",
				"!**/*.spec.*"
			],
			"outputs": ["dist/**"],
			"cache": true,
			"persistent": false
		},
		"@repo/database#build": {
			"dependsOn": [],
			"inputs": [
				"src/**",
				"tsconfig*.json",
				"package.json",
				"!**/*.md",
				"!**/*.test.*",
				"!**/*.spec.*"
			],
			"outputs": ["dist/**"],
			"cache": true,
			"persistent": false
		},
		"@repo/eslint-config#build": {
			"dependsOn": [],
			"inputs": ["*.js", "package.json"],
			"outputs": [],
			"cache": true,
			"persistent": false
		},
		"@repo/typescript-config#build": {
			"dependsOn": [],
			"inputs": ["*.json", "package.json"],
			"outputs": [],
			"cache": true,
			"persistent": false
		},
		"@repo/frontend#build": {
			"dependsOn": ["^build", "lint", "typecheck"],
			"inputs": [
				"src/**",
				"public/**",
				"next.config.ts",
				"tsconfig*.json",
				"package.json"
			],
			"outputs": [".next/**", "!.next/cache/**", ".vercel/output/**"],
			"env": ["NEXT_PUBLIC_*", "VERCEL", "VERCEL_ENV"],
			"cache": true,
			"persistent": false
		},
		"@repo/backend#build": {
			"dependsOn": ["^build", "lint", "typecheck"],
			"inputs": ["src/**", "tsconfig*.json", "package.json", "nest-cli.json"],
			"outputs": ["dist/**"],
			"cache": true,
			"persistent": false
		},
		"@repo/backend#test:unit": {
			"dependsOn": ["^build"],
			"inputs": ["src/**/*.{test,spec}.ts", "jest.config.*", "package.json"],
			"outputs": ["coverage/**"],
			"cache": true,
			"persistent": false
		},
		"dev": {
			"cache": false,
			"persistent": true
		},
		"lint": {
			"outputs": []
		},
		"lint:fix": {
			"inputs": [
				"src/**/*.{ts,tsx,js,jsx}",
				"app/**/*.{ts,tsx,js,jsx}",
				"eslint.config.*",
				"!node_modules/**",
				"!dist/**",
				"!.next/**"
			],
			"outputs": [],
			"cache": false,
			"persistent": false
		},
		"format": {
			"inputs": [
				"src/**/*.{ts,tsx,js,jsx}",
				"app/**/*.{ts,tsx,js,jsx}",
				"prettier.config.*",
				"!node_modules/**",
				"!dist/**",
				"!.next/**"
			],
			"outputs": [],
			"cache": false,
			"persistent": false
		},
		"format:check": {
			"inputs": [
				"src/**/*.{ts,tsx,js,jsx}",
				"app/**/*.{ts,tsx,js,jsx}",
				".prettierrc*",
				"prettier.config.*",
				"!node_modules/**",
				"!dist/**",
				"!.next/**"
			],
			"outputs": [],
			"cache": false,
			"persistent": false
		},
		"@repo/frontend#typecheck": {
			"dependsOn": ["^build"],
			"inputs": ["src/**", "tsconfig*.json", "package.json"],
			"outputs": [],
			"cache": true,
			"persistent": false
		},
		"@repo/backend#typecheck": {
			"dependsOn": ["^build"],
			"inputs": ["src/**", "tsconfig*.json", "package.json"],
			"outputs": [],
			"cache": true,
			"persistent": false
		},
		"@repo/shared#typecheck": {
			"dependsOn": [],
			"inputs": ["src/**/*.ts", "tsconfig*.json", "package.json"],
			"outputs": ["dist/.tsbuildinfo"],
			"cache": true,
			"persistent": false
		},
		"@repo/shared#lint:fix": {
			"inputs": ["src/**/*.{ts,tsx}", "eslint.config.*", "package.json"],
			"outputs": [],
			"cache": false,
			"persistent": false
		},
		"@repo/typescript-config#typecheck": {
			"dependsOn": [],
			"inputs": ["*.json", "package.json"],
			"outputs": [],
			"cache": true,
			"persistent": false
		},
		"clean": {
			"cache": false,
			"outputs": [],
			"persistent": false
		},
		"generate:schemas": {
			"dependsOn": ["@repo/backend#build"],
			"inputs": ["scripts/generate-frontend-schemas.ts", "package.json"],
			"outputs": ["src/lib/validation/generated-*.ts"],
			"cache": true,
			"persistent": false
		}
	}
}
