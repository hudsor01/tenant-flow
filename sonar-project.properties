# SonarQube Configuration for TenantFlow
# This file configures SonarQube/SonarCloud analysis for the monorepo

# Project identification
sonar.projectKey=tenantflow
sonar.organization=tenantflow
sonar.projectName=TenantFlow Property Management Platform
sonar.projectVersion=1.0.0

# Source code configuration
sonar.sources=apps/frontend/src,apps/backend/src,packages/shared/src
sonar.exclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/node_modules/**,**/dist/**,**/build/**,**/.next/**,**/coverage/**,**/*.config.js,**/*.config.ts,**/generated/**

# Test configuration
sonar.tests=apps/frontend/src,apps/backend/src,packages/shared/src
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.coverage.exclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.config.ts,**/*.config.js,**/test/**,**/tests/**,**/mocks/**

# TypeScript configuration
sonar.typescript.tsconfigPath=tsconfig.json

# Language-specific settings
sonar.javascript.node.maxspace=8192

# Quality profiles
sonar.qualitygate.wait=true

# Monorepo module configuration
sonar.modules=frontend,backend,shared

# Frontend module
frontend.sonar.projectBaseDir=apps/frontend
frontend.sonar.sources=src
frontend.sonar.exclusions=**/*.test.tsx,**/*.test.ts,**/test/**,**/__tests__/**
frontend.sonar.typescript.tsconfigPath=tsconfig.json

# Backend module
backend.sonar.projectBaseDir=apps/backend
backend.sonar.sources=src
backend.sonar.exclusions=**/*.spec.ts,**/test/**,**/__tests__/**
backend.sonar.typescript.tsconfigPath=tsconfig.json

# Shared module
shared.sonar.projectBaseDir=packages/shared
shared.sonar.sources=src
shared.sonar.exclusions=**/*.test.ts,**/test/**,**/__tests__/**
shared.sonar.typescript.tsconfigPath=tsconfig.json

# Additional rules configuration
sonar.javascript.globals=React,describe,it,expect,beforeEach,afterEach,jest,test,beforeAll,afterAll
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore some rules that conflict with project standards
# e1: Ignore "Remove this use of the 'void' operator" for promise handling
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S3735
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.ts,**/*.tsx

# e2: Allow TODO comments during development
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.ts,**/*.tsx

# e3: Allow console.log in development files
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S106
sonar.issue.ignore.multicriteria.e3.resourceKey=**/dev.ts,**/scripts/**