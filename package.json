{
	"$schema": "https://json.schemastore.org/package",
	"name": "tenantflow",
	"private": true,
	"version": "1.0.1",
	"type": "module",
	"engines": {
		"node": ">=24.0.0",
		"pnpm": ">=9"
	},
	"packageManager": "pnpm@10.23.0",
	"workspaces": [
		"apps/*",
		"packages/*"
	],
	"scripts": {
		"dev": "turbo run dev",
		"dev:clean": "pnpm clean && pnpm dev",
		"dev:backend": "pnpm --filter @repo/backend dev",
		"dev:frontend": "pnpm --filter @repo/frontend dev",
		"build": "NODE_ENV=production turbo run build",
		"build:backend": "turbo run build --filter=@repo/backend",
		"build:frontend": "NODE_ENV=production turbo run build --filter=@repo/frontend",
		"build:shared": "turbo run build --filter=@repo/shared",
		"build:ci": "turbo run build",
		"lint": "turbo run lint",
		"lint:fix": "turbo run lint:fix",
		"typecheck": "turbo run typecheck",
		"test": "turbo run test:unit test:integration",
		"test:all": "pnpm test:unit && pnpm test:integration && pnpm test:e2e",
		"test:unit": "turbo run test:unit",
		"test:unit:backend": "pnpm --filter @repo/backend test:unit",
		"test:unit:frontend": "pnpm --filter @repo/frontend test:unit",
		"test:unit:watch": "pnpm --filter @repo/backend test:unit -- --watch",
		"test:unit:coverage": "pnpm --filter @repo/backend test:unit --coverage",
		"test:integration": "pnpm --filter @repo/backend test:integration",
		"test:integration:watch": "pnpm --filter @repo/backend test:integration -- --watch",
		"test:e2e": "pnpm --filter @repo/e2e-tests test",
		"test:e2e:tenant": "pnpm --filter @repo/e2e-tests test:chromium -- tenant-management/",
		"test:e2e:visual": "pnpm exec playwright test --project=chromium-visual",
		"test:e2e:ui": "pnpm exec playwright test --ui",
		"test:e2e:shard": "pnpm --filter @repo/e2e-tests exec playwright test --shard",
		"test:e2e:debug": "PWDEBUG=1 pnpm exec playwright test",
		"test:ci": "CI=true turbo run test:unit test:integration --concurrency=2",
		"db:push": "supabase db push",
		"db:pull": "supabase db pull",
		"db:reset": "supabase db reset",
		"db:types": "supabase gen types typescript --project-id bshjmbshupiibfiewpxb > packages/shared/src/types/supabase.ts && pnpm --filter @repo/shared generate:schemas",
		"db:seed:smoke": "psql $DATABASE_URL -f supabase/seeds/seed-common.sql -f supabase/seeds/seed-smoke.sql",
		"db:seed:dev": "psql $DATABASE_URL -f supabase/seeds/seed-common.sql -f supabase/seeds/seed-development.sql",
		"db:seed:perf": "psql $DATABASE_URL -f supabase/seeds/seed-common.sql -f supabase/seeds/seed-performance.sql",
		"clean": "turbo run clean",
		"workspace:info": "pnpm list -r --depth -1",
		"validate": "pnpm db:types && pnpm clean && pnpm build:shared && pnpm typecheck && pnpm lint && pnpm test:unit && pnpm test:integration && echo '✅ ALL VALIDATION PASSED - READY TO COMMIT'",
		"validate:quick": "pnpm db:types && pnpm typecheck && pnpm lint && pnpm test:unit && echo '✅ QUICK VALIDATION PASSED'",
		"validate:clean": "pnpm db:types && pnpm typecheck && pnpm lint && pnpm --filter @repo/backend test:unit && echo '✅ CLEAN VALIDATION PASSED'",
		"stripe:migrate": "pnpm --filter @repo/backend stripe:migrate",
		"detect:types": "./scripts/check-duplicate-types.sh",
		"docker:test": "bash scripts/docker-test.sh",
		"docker:up": "docker compose up -d",
		"docker:down": "docker compose down -v",
		"test:smoke": "bash scripts/smoke-test.sh",
		"health": "bash scripts/health-check.sh",
		"changelog": "git cliff --output CHANGELOG.md",
		"scan:secrets": "gitleaks detect --source . --no-git -v",
		"scan:vulns": "trivy fs --severity HIGH,CRITICAL --scanners vuln .",
		"scan:typos": "typos --format brief"
	},
	"commitlint": {
		"extends": [
			"@commitlint/config-conventional"
		]
	},
	"pnpm": {
		"overrides": {
			"@tanstack/query-core": "5.90.10",
			"typescript": "^5.9.3",
			"path-to-regexp": "^8.3.0",
			"undici": "^7.18.2",
			"diff": "^8.0.3",
			"react-router": "^7.12.0",
			"@modelcontextprotocol/sdk": "^1.26.0",
			"cross-spawn": "^7.0.6",
			"lightningcss": "1.30.2",
			"esbuild": "^0.27.0",
			"@types/react": "19.2.7",
			"@types/react-dom": "19.2.3",
			"body-parser": ">=2.2.1",
			"tmp": ">=0.2.5",
			"qs": ">=6.14.1",
			"lodash": ">=4.17.23",
			"lodash-es": ">=4.17.23",
			"tar": ">=7.5.7",
			"axios": ">=1.13.5",
			"hono": ">=4.11.7",
			"@isaacs/brace-expansion": ">=5.0.1"
		},
		"onlyBuiltDependencies": [
			"supabase"
		]
	},
	"dependencies": {
		"@commitlint/cli": "20.3.1",
		"@commitlint/config-conventional": "20.3.1",
		"@repo/eslint-config": "workspace:*",
		"husky": "9.1.7",
		"prettier": "catalog:default",
		"tsx": "^4.21.0",
		"typescript": "^5.9.3"
	},
	"devDependencies": {
		"@next/eslint-plugin-next": "~16.1.4",
		"@playwright/test": "1.57.0",
		"eslint": "catalog:default",
		"globals": "17.0.0",
		"playwright": "1.57.0",
		"turbo": "2.7.5",
		"vercel": "50.15.1"
	}
}
