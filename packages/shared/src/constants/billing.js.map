{"version":3,"file":"billing.js","sourceRoot":"","sources":["billing.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Billing Plans Constants\n *\n * Defines the available billing plans and related utility functions.\n * This file is a single source of truth for both frontend and backend.\n */\n\nimport { SHARED_ERROR_MESSAGES } from './error-messages.js'\n\nexport const PLAN_TYPE = {\n\tFREETRIAL: 'FREETRIAL',\n\tSTARTER: 'STARTER',\n\tGROWTH: 'GROWTH',\n\tTENANTFLOW_MAX: 'TENANTFLOW_MAX'\n} as const\n\nexport type PlanType = (typeof PLAN_TYPE)[keyof typeof PLAN_TYPE]\n\nexport interface BillingPlan {\n\tid: PlanType\n\tname: string\n\tdescription: string\n\tprice: {\n\t\tmonthly: number\n\t\tannual: number\n\t}\n\tfeatures: string[]\n\tpropertyLimit: number\n\tstorageLimit: number // in GB\n\tapiCallLimit: number\n\tpriority: boolean\n}\n\nexport const BILLING_PLANS: Record<PlanType, BillingPlan> = {\n\t[PLAN_TYPE.FREETRIAL]: {\n\t\tid: PLAN_TYPE.FREETRIAL,\n\t\tname: 'Free Trial',\n\t\tdescription: '14-day free trial with 2 properties',\n\t\tprice: {\n\t\t\tmonthly: 0,\n\t\t\tannual: 0\n\t\t},\n\t\tfeatures: ['2 properties', 'Basic features', '14-day trial'],\n\t\tpropertyLimit: 2,\n\t\tstorageLimit: 1,\n\t\tapiCallLimit: 1000,\n\t\tpriority: false\n\t},\n\t[PLAN_TYPE.STARTER]: {\n\t\tid: PLAN_TYPE.STARTER,\n\t\tname: 'Starter',\n\t\tdescription: 'Perfect for small property owners',\n\t\tprice: {\n\t\t\tmonthly: 19,\n\t\t\tannual: 190\n\t\t},\n\t\tfeatures: ['10 properties', 'Standard features', 'Email support'],\n\t\tpropertyLimit: 10,\n\t\tstorageLimit: 5,\n\t\tapiCallLimit: 10000,\n\t\tpriority: false\n\t},\n\t[PLAN_TYPE.GROWTH]: {\n\t\tid: PLAN_TYPE.GROWTH,\n\t\tname: 'Growth',\n\t\tdescription: 'For growing property managers',\n\t\tprice: {\n\t\t\tmonthly: 49,\n\t\t\tannual: 490\n\t\t},\n\t\tfeatures: ['50 properties', 'Advanced features', 'Priority support'],\n\t\tpropertyLimit: 50,\n\t\tstorageLimit: 25,\n\t\tapiCallLimit: 50000,\n\t\tpriority: true\n\t},\n\t[PLAN_TYPE.TENANTFLOW_MAX]: {\n\t\tid: PLAN_TYPE.TENANTFLOW_MAX,\n\t\tname: 'TenantFlow Max',\n\t\tdescription: 'For large property portfolios',\n\t\tprice: {\n\t\t\tmonthly: 99,\n\t\t\tannual: 990\n\t\t},\n\t\tfeatures: ['200 properties', 'Enterprise features', '24/7 support'],\n\t\tpropertyLimit: 200,\n\t\tstorageLimit: 100,\n\t\tapiCallLimit: 200000,\n\t\tpriority: true\n\t}\n}\n\nexport const getBillingPlans = () => BILLING_PLANS\n\n// Backward compatibility alias\nexport const PLANS = BILLING_PLANS\n\nexport const getPlanById = (planId: PlanType): BillingPlan | undefined => {\n\treturn BILLING_PLANS[planId]\n}\n\nexport const getDefaultPlan = (): BillingPlan => {\n\tconst plan = BILLING_PLANS[PLAN_TYPE.FREETRIAL]\n\tif (!plan) {\n\t\tthrow new Error(SHARED_ERROR_MESSAGES.DEFAULT_PLAN_NOT_FOUND)\n\t}\n\treturn plan\n}\n\n// Validation Limits\nexport const VALIDATION_LIMITS = {\n\tPROPERTY_NAME_MAX_LENGTH: 100,\n\tPROPERTY_DESCRIPTION_MAX_LENGTH: 2000,\n\tUNIT_NUMBER_MAX_LENGTH: 20,\n\tUNIT_BEDROOM_BATHROOM_MAX: 50,\n\tRENT_MAXIMUM_VALUE: 1000000,\n\tSQUARE_FOOTAGE_MAXIMUM: 1000000,\n\tSALE_PRICE_MAXIMUM: 100000000,\n\tPROPERTY_UNIT_MAX_BEDROOMS: 50,\n\tPROPERTY_UNIT_MAX_BATHROOMS: 50,\n\tUNIT_MAX_BEDROOMS: 20,\n\tUNIT_MAX_BATHROOMS: 20,\n\tUNIT_MAX_SQUARE_FEET: 50000,\n\tUNIT_RENT_MAXIMUM: 100000,\n\tAPI_QUERY_MAX_LIMIT: 100,\n\tAPI_QUERY_DEFAULT_LIMIT: 10,\n\tAPI_QUERY_DEFAULT_PAGE: 1,\n\tPASSWORD_MIN_LENGTH: 8,\n\tCONTACT_FORM_NAME_MAX_LENGTH: 100,\n\tCONTACT_FORM_EMAIL_MAX_LENGTH: 254,\n\tCONTACT_FORM_SUBJECT_MAX_LENGTH: 200,\n\tCONTACT_FORM_MESSAGE_MIN_LENGTH: 10,\n\tCONTACT_FORM_MESSAGE_MAX_LENGTH: 5000,\n\tCONTACT_FORM_PHONE_MAX_LENGTH: 20,\n\tTITLE_MAX_LENGTH: 200,\n\tDESCRIPTION_MAX_LENGTH: 2000\n}"]}