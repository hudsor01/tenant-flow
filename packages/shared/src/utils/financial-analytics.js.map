{"version":3,"file":"financial-analytics.js","sourceRoot":"","sources":["financial-analytics.ts"],"names":[],"mappings":"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","sourcesContent":["import type {\n\tBillingInsightsTimeline,\n\tBillingInsightsTimelinePoint,\n\tExpenseSummaryResponse,\n\tFinancialAnalyticsPageResponse,\n\tFinancialBreakdownRow,\n\tFinancialMetricSummary,\n\tFinancialOverviewSnapshot,\n\tInvoiceStatusSummary,\n\tLeaseFinancialInsight,\n\tLeaseFinancialSummary,\n\tMonthlyFinancialMetric,\n\tNetOperatingIncomeByProperty,\n\tRevenueExpenseBreakdown\n} from '../types/financial-analytics.js'\n\nfunction toNumber(value: unknown, fallback = 0): number {\n\tif (typeof value === 'number' && Number.isFinite(value)) {\n\t\treturn value\n\t}\n\n\tif (typeof value === 'string' && value.trim().length > 0) {\n\t\tconst parsed = Number(value)\n\t\tif (Number.isFinite(parsed)) {\n\t\t\treturn parsed\n\t\t}\n\t}\n\n\treturn fallback\n}\n\nfunction toNumberOrNull(value: unknown): number | null {\n\tif (value === null || value === undefined) {\n\t\treturn null\n\t}\n\n\tconst parsed = toNumber(value, Number.NaN)\n\treturn Number.isNaN(parsed) ? null : parsed\n}\n\nfunction toString(value: unknown, fallback = ''): string {\n\tif (typeof value === 'string') {\n\t\treturn value\n\t}\n\n\tif (typeof value === 'number') {\n\t\treturn value.toString()\n\t}\n\n\treturn fallback\n}\n\nfunction isObject(value: unknown): value is Record<string, unknown> {\n\treturn typeof value === 'object' && value !== null\n}\n\nexport function mapFinancialMetricSummary(\n\tdata: unknown\n): FinancialMetricSummary {\n\tconst record = isObject(data) ? data : {}\n\n\tconst totalRevenue = toNumber(\n\t\trecord.total_revenue ?? record.revenue ?? record.totalRevenue\n\t)\n\tconst totalExpenses = toNumber(\n\t\trecord.total_expenses ?? record.expenses ?? record.totalExpenses\n\t)\n\tconst netIncome = toNumber(record.net_income ?? record.netIncome)\n\tconst cashFlow = toNumber(record.cash_flow ?? record.cashFlow)\n\n\treturn {\n\t\ttotalRevenue,\n\t\ttotalExpenses,\n\t\tnetIncome,\n\t\tcashFlow,\n\t\trevenueTrend: toNumberOrNull(record.revenue_trend ?? record.revenueTrend),\n\t\texpenseTrend: toNumberOrNull(record.expense_trend ?? record.expenseTrend),\n\t\tprofitMargin: toNumberOrNull(record.profit_margin ?? record.profitMargin)\n\t}\n}\n\nfunction mapBreakdownRows(value: unknown): FinancialBreakdownRow[] {\n\tif (!Array.isArray(value)) {\n\t\treturn []\n\t}\n\n\treturn value.map(item => {\n\t\tconst record = isObject(item) ? item : {}\n\t\treturn {\n\t\t\tlabel: toString(\n\t\t\t\trecord.label ?? record.name ?? record.category,\n\t\t\t\t'Unknown'\n\t\t\t),\n\t\t\tvalue: toNumber(record.value ?? record.amount),\n\t\t\tpercentage:\n\t\t\t\trecord.percentage === null || record.percentage === undefined\n\t\t\t\t\t? null\n\t\t\t\t\t: toNumber(record.percentage, 0),\n\t\t\tchange:\n\t\t\t\trecord.change === null || record.change === undefined\n\t\t\t\t\t? null\n\t\t\t\t\t: toNumber(record.change, 0)\n\t\t}\n\t})\n}\n\nexport function mapRevenueExpenseBreakdown(\n\tdata: unknown\n): RevenueExpenseBreakdown {\n\tconst record = isObject(data) ? data : {}\n\n\tconst revenueRows = mapBreakdownRows(\n\t\trecord.revenue ?? record.revenue_breakdown\n\t)\n\tconst expenseRows = mapBreakdownRows(\n\t\trecord.expenses ?? record.expense_breakdown\n\t)\n\n\treturn {\n\t\trevenue: revenueRows,\n\t\texpenses: expenseRows,\n\t\ttotals: {\n\t\t\trevenue: toNumber(\n\t\t\t\trecord.total_revenue ?? record.revenue_total ?? record.revenue\n\t\t\t),\n\t\t\texpenses: toNumber(\n\t\t\t\trecord.total_expenses ?? record.expense_total ?? record.expenses\n\t\t\t),\n\t\t\tnetIncome: toNumber(record.net_income ?? record.netIncome)\n\t\t}\n\t}\n}\n\nexport function mapNetOperatingIncome(\n\tdata: unknown\n): NetOperatingIncomeByProperty[] {\n\tif (!Array.isArray(data)) {\n\t\treturn []\n\t}\n\n\treturn data.map(item => {\n\t\tconst record = isObject(item) ? item : {}\n\t\treturn {\n\t\t\tpropertyId: toString(record.property_id ?? record.propertyId, 'unknown'),\n\t\t\tpropertyName: toString(\n\t\t\t\trecord.property_name ?? record.propertyName,\n\t\t\t\t'Unknown Property'\n\t\t\t),\n\t\t\tnoi: toNumber(record.net_operating_income ?? record.noi),\n\t\t\trevenue: toNumber(record.revenue),\n\t\t\texpenses: toNumber(record.expenses),\n\t\t\tmargin: toNumber(record.margin ?? record.profit_margin ?? 0)\n\t\t}\n\t})\n}\n\nexport function mapFinancialOverview(data: unknown): FinancialOverviewSnapshot {\n\tconst record = isObject(data) ? data : {}\n\n\tconst overview = isObject(record.overview) ? record.overview : record\n\n\tconst highlightsSource = Array.isArray(record.highlights)\n\t\t? record.highlights\n\t\t: Array.isArray(record.cards)\n\t\t\t? record.cards\n\t\t\t: []\n\n\treturn {\n\t\toverview: {\n\t\t\ttotalRevenue: toNumber(\n\t\t\t\toverview.total_revenue ?? overview.totalRevenue ?? overview.revenue\n\t\t\t),\n\t\t\ttotalExpenses: toNumber(\n\t\t\t\toverview.total_expenses ?? overview.totalExpenses ?? overview.expenses\n\t\t\t),\n\t\t\tnetIncome: toNumber(overview.net_income ?? overview.netIncome),\n\t\t\taccountsReceivable: toNumber(\n\t\t\t\toverview.accounts_receivable ?? overview.accountsReceivable\n\t\t\t),\n\t\t\taccountsPayable: toNumber(\n\t\t\t\toverview.accounts_payable ?? overview.accountsPayable\n\t\t\t)\n\t\t},\n\t\thighlights: highlightsSource.map(item => {\n\t\t\tconst highlight = isObject(item) ? item : {}\n\t\t\treturn {\n\t\t\t\tlabel: toString(highlight.label ?? highlight.title, 'Highlight'),\n\t\t\t\tvalue: toNumber(highlight.value ?? highlight.amount),\n\t\t\t\ttrend: highlight.trend === null ? null : toNumber(highlight.trend, 0)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction mapBillingPoint(data: unknown): BillingInsightsTimelinePoint {\n\tconst record = isObject(data) ? data : {}\n\treturn {\n\t\tperiod: toString(record.period ?? record.month ?? record.date, ''),\n\t\tinvoiced: toNumber(record.invoiced ?? record.total_invoiced),\n\t\tpaid: toNumber(record.paid ?? record.total_paid),\n\t\toverdue: toNumber(record.overdue ?? record.total_overdue)\n\t}\n}\n\nexport function mapBillingInsights(data: unknown): BillingInsightsTimeline {\n\tconst record = isObject(data) ? data : {}\n\tconst timelineSource = Array.isArray(record.timeline)\n\t\t? record.timeline\n\t\t: Array.isArray(record.points)\n\t\t\t? record.points\n\t\t\t: Array.isArray(record)\n\t\t\t\t? record\n\t\t\t\t: []\n\n\tconst points = timelineSource.map(mapBillingPoint)\n\n\treturn {\n\t\tpoints,\n\t\ttotals: {\n\t\t\tinvoiced: toNumber(record.total_invoiced ?? record.invoiced),\n\t\t\tpaid: toNumber(record.total_paid ?? record.paid),\n\t\t\toverdue: toNumber(record.total_overdue ?? record.overdue)\n\t\t}\n\t}\n}\n\nexport function mapExpenseSummary(data: unknown): ExpenseSummaryResponse {\n\tconst record = isObject(data) ? data : {}\n\tconst categoriesSource = Array.isArray(record.categories)\n\t\t? record.categories\n\t\t: Array.isArray(record.category_breakdown)\n\t\t\t? record.category_breakdown\n\t\t\t: []\n\n\tconst monthlySource = Array.isArray(record.monthly)\n\t\t? record.monthly\n\t\t: Array.isArray(record.monthly_totals)\n\t\t\t? record.monthly_totals\n\t\t\t: []\n\n\treturn {\n\t\tcategories: categoriesSource.map(item => {\n\t\t\tconst category = isObject(item) ? item : {}\n\t\t\treturn {\n\t\t\t\tcategory: toString(category.category ?? category.label ?? 'Other'),\n\t\t\t\tamount: toNumber(category.amount ?? category.value),\n\t\t\t\tpercentage: toNumber(category.percentage ?? category.percent, 0)\n\t\t\t}\n\t\t}),\n\t\tmonthlyTotals: monthlySource.map(item => {\n\t\t\tconst monthly = isObject(item) ? item : {}\n\t\t\treturn {\n\t\t\t\tmonth: toString(monthly.month ?? monthly.period, ''),\n\t\t\t\tamount: toNumber(monthly.amount ?? monthly.value)\n\t\t\t}\n\t\t}),\n\t\ttotals: {\n\t\t\tamount: toNumber(record.total_amount ?? record.total ?? record.amount),\n\t\t\tmonthlyAverage: toNumber(\n\t\t\t\trecord.monthly_average ?? record.average ?? record.monthlyAverage\n\t\t\t),\n\t\t\tyearOverYearChange:\n\t\t\t\trecord.year_over_year_change === null\n\t\t\t\t\t? null\n\t\t\t\t\t: toNumber(record.year_over_year_change ?? record.yoyChange, 0)\n\t\t}\n\t}\n}\n\nexport function mapInvoiceSummary(data: unknown): InvoiceStatusSummary[] {\n\tif (!Array.isArray(data)) {\n\t\treturn []\n\t}\n\n\treturn data.map(item => {\n\t\tconst record = isObject(item) ? item : {}\n\t\treturn {\n\t\t\tstatus: toString(record.status ?? record.label ?? 'unknown'),\n\t\t\tcount: toNumber(record.count ?? record.quantity),\n\t\t\tamount: toNumber(record.amount ?? record.total)\n\t\t}\n\t})\n}\n\nexport function mapMonthlyMetrics(data: unknown): MonthlyFinancialMetric[] {\n\tif (!Array.isArray(data)) {\n\t\treturn []\n\t}\n\n\treturn data.map(item => {\n\t\tconst record = isObject(item) ? item : {}\n\t\treturn {\n\t\t\tmonth: toString(record.month ?? record.period ?? ''),\n\t\t\trevenue: toNumber(record.revenue),\n\t\t\texpenses: toNumber(record.expenses),\n\t\t\tnetIncome: toNumber(record.net_income ?? record.netIncome),\n\t\t\tcashFlow: toNumber(record.cash_flow ?? record.cashFlow)\n\t\t}\n\t})\n}\n\nexport function mapLeaseSummary(data: unknown): LeaseFinancialSummary {\n\tconst record = isObject(data) ? data : {}\n\treturn {\n\t\ttotalLeases: toNumber(record.total_leases ?? record.totalLeases),\n\t\tactiveLeases: toNumber(record.active_leases ?? record.activeLeases),\n\t\texpiringSoon: toNumber(record.expiring_soon ?? record.expiringSoon),\n\t\ttotalMonthlyRent: toNumber(\n\t\t\trecord.total_monthly_rent ?? record.totalMonthlyRent\n\t\t),\n\t\taverageLeaseValue: toNumber(\n\t\t\trecord.average_lease_value ?? record.averageLeaseValue\n\t\t)\n\t}\n}\n\nexport function mapLeaseAnalytics(data: unknown): LeaseFinancialInsight[] {\n\tif (!Array.isArray(data)) {\n\t\treturn []\n\t}\n\n\treturn data.map(item => {\n\t\tconst record = isObject(item) ? item : {}\n\t\treturn {\n\t\t\tleaseId: toString(record.lease_id ?? record.leaseId, 'unknown'),\n\t\t\tpropertyName: toString(\n\t\t\t\trecord.property_name ?? record.propertyName,\n\t\t\t\t'Unknown Property'\n\t\t\t),\n\t\t\ttenantName: toString(\n\t\t\t\trecord.tenant_name ?? record.tenantName,\n\t\t\t\t'Unknown Tenant'\n\t\t\t),\n\t\t\tmonthlyRent: toNumber(record.monthly_rent ?? record.rent),\n\t\t\toutstandingBalance: toNumber(\n\t\t\t\trecord.outstanding_balance ?? record.balance ?? 0\n\t\t\t),\n\t\t\tprofitabilityScore:\n\t\t\t\trecord.profitability_score === null\n\t\t\t\t\t? null\n\t\t\t\t\t: toNumber(record.profitability_score ?? record.score, 0)\n\t\t}\n\t})\n}\n\nexport function buildFinancialAnalyticsPageResponse(raw: {\n\tmetrics?: unknown\n\tbreakdown?: unknown\n\tnetOperatingIncome?: unknown\n\tfinancialOverview?: unknown\n\tbillingInsights?: unknown\n\texpenseSummary?: unknown\n\tinvoiceSummary?: unknown\n\tmonthlyMetrics?: unknown\n\tleaseSummary?: unknown\n\tleaseAnalytics?: unknown\n}): FinancialAnalyticsPageResponse {\n\treturn {\n\t\tmetrics: mapFinancialMetricSummary(raw.metrics),\n\t\tbreakdown: mapRevenueExpenseBreakdown(raw.breakdown),\n\t\tnetOperatingIncome: mapNetOperatingIncome(raw.netOperatingIncome),\n\t\tfinancialOverview: mapFinancialOverview(raw.financialOverview),\n\t\tbillingInsights: mapBillingInsights(raw.billingInsights),\n\t\texpenseSummary: mapExpenseSummary(raw.expenseSummary),\n\t\tinvoiceSummary: mapInvoiceSummary(raw.invoiceSummary),\n\t\tmonthlyMetrics: mapMonthlyMetrics(raw.monthlyMetrics),\n\t\tleaseSummary: mapLeaseSummary(raw.leaseSummary),\n\t\tleaseAnalytics: mapLeaseAnalytics(raw.leaseAnalytics)\n\t}\n}\n"]}