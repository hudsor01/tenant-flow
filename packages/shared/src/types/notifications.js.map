{"version":3,"file":"notifications.js","sourceRoot":"","sources":["notifications.ts"],"names":[],"mappings":";;;AAMa,QAAA,gBAAgB,GAAG;IAC/B,WAAW,EAAE,aAAa;IAC1B,KAAK,EAAE,OAAO;IACd,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,MAAM,EAAE,QAAQ;IAChB,IAAI,EAAE,MAAM;CACH,CAAA;AAkGG,QAAA,qBAAqB,GAAG;IACpC,GAAG,EAAE,KAAK;IACV,MAAM,EAAE,QAAQ;IAChB,IAAI,EAAE,MAAM;IACZ,MAAM,EAAE,QAAQ;CACP,CAAA;AAKG,QAAA,6BAA6B,GAAG;IAC5C,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;IAC9B,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE;IACpC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;IAChC,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE;CAC3B,CAAA","sourcesContent":["// Notification types for TenantFlow application\nimport type { Database } from './supabase-generated.js'\n\ntype Priority = Database['public']['Enums']['Priority']\n\n// UI-only notification type constants (not stored in database)\nexport const NotificationType = {\n\tMAINTENANCE: 'MAINTENANCE',\n\tLEASE: 'LEASE',\n\tPAYMENT: 'PAYMENT',\n\tGENERAL: 'GENERAL',\n\tSYSTEM: 'SYSTEM',\n\tINFO: 'INFO' // Add INFO for compatibility\n} as const\n\nexport type NotificationTypeValue =\n\t(typeof NotificationType)[keyof typeof NotificationType]\n\n// API Request/Response types (consolidated from frontend)\nexport interface NotificationRequest {\n\ttype: NotificationTypeValue\n\ttitle: string\n\tmessage: string\n\trecipientId?: string\n\tactionUrl?: string\n\tdata?: Record<string, unknown>\n\tpriority?: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT' | 'URGENT'\n}\n\nexport interface NotificationResponse {\n\tid: string\n\tsent: boolean\n\tsentAt: string\n\t// Frontend API response format\n\tsuccess?: boolean\n\tdata?: NotificationData\n\terror?: string\n}\n\n// Frontend notification data structure\nexport interface NotificationData {\n\tid: string\n\ttitle: string\n\tmessage: string\n\tpriority: Priority\n\ttype: 'INFO' | 'SUCCESS' | 'WARNING' | 'ERROR'\n\tread: boolean\n\tcreatedAt: Date\n\tupdatedAt: Date\n}\n\nexport interface CreateNotificationDto {\n\ttitle: string\n\tmessage: string\n\tpriority?: Priority\n\ttype?: 'INFO' | 'SUCCESS' | 'WARNING' | 'ERROR'\n}\n\nexport interface UpdateNotificationDto {\n\tread?: boolean\n}\n\nexport interface MaintenanceNotificationData extends NotificationData {\n\tmaintenanceRequestId?: string\n\tpropertyId?: string\n\tunitId?: string\n}\n\n// WebSocket types for real-time notifications\nexport interface NotificationWebSocketMessage {\n\ttype: string\n\tdata: Record<string, string | number | boolean | null>\n\ttimestamp?: Date | string\n\tid?: string\n}\n\n// Base WebSocket message type\nexport interface WebSocketMessage {\n\ttype: string\n\tdata: Record<string, unknown>\n\ttimestamp?: string\n\tid?: string\n}\n\nexport interface WebSocketState {\n\tisConnected: boolean\n\tlastMessage: WebSocketMessage | null\n\terror: string | null\n\treconnectCount: number\n}\n\nexport interface UseWebSocketOptions {\n\tautoConnect?: boolean\n\treconnectAttempts?: number\n\treconnectDelay?: number\n}\n\n// Notification preferences\nexport interface NotificationPreferences {\n\temail: boolean\n\tpush: boolean\n\tsms: boolean\n\tinApp: boolean\n\tcategories: {\n\t\tmaintenance: boolean\n\t\tleases: boolean\n\t\tgeneral: boolean\n\t}\n}\n\n// Notification priority constants\nexport const NOTIFICATION_PRIORITY = {\n\tLOW: 'LOW',\n\tMEDIUM: 'MEDIUM',\n\tHIGH: 'HIGH',\n\tURGENT: 'URGENT'\n} as const\n\nexport type NotificationPriorityValue =\n\t(typeof NOTIFICATION_PRIORITY)[keyof typeof NOTIFICATION_PRIORITY]\n\nexport const NOTIFICATION_PRIORITY_OPTIONS = [\n\t{ value: 'LOW', label: 'Low' },\n\t{ value: 'MEDIUM', label: 'Medium' },\n\t{ value: 'HIGH', label: 'High' },\n\t{ value: 'URGENT', label: 'Urgent' }\n] as const\n\n// Push notification types\nexport interface PushNotification {\n\ttitle: string\n\tbody: string\n\ticon?: string\n\tbadge?: string\n\ttag?: string\n\tdata?: Record<string, string | number | boolean | null>\n}\n\n// BACKEND NOTIFICATION CONTROLLER TYPES - CONSOLIDATED from backend\n\nexport interface GetNotificationOptions {\n\tunreadOnly?: boolean\n\tlimit?: number\n\toffset?: number\n}\n\nexport interface CreateNotificationRequest {\n\trecipientId: string\n\ttitle: string\n\tmessage: string\n\tpriority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT'\n\tactionUrl?: string\n\tdata?: Record<string, unknown>\n}\n\nexport interface MaintenanceNotificationRequest {\n\trecipientId: string\n\ttitle: string\n\tmessage: string\n\ttype: NotificationTypeValue\n\tunitId: string\n\tpriority: Priority\n}\n"]}