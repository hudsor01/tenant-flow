{"version":3,"file":"units-repository.js","sourceRoot":"","sources":["units-repository.ts"],"names":[],"mappings":"","sourcesContent":["import type { QueryParams, Unit, UnitStats } from './core.js'\nimport type { Database } from './supabase-generated.js'\nimport type { BaseRepository } from './repository-base.js'\n\nexport type UnitInput = Database['public']['Tables']['unit']['Insert']\nexport type UnitUpdate = Database['public']['Tables']['unit']['Update']\n\nexport interface UnitQueryOptions extends QueryParams {\n\tpropertyId?: string\n\tstatus?: Database['public']['Enums']['UnitStatus']\n\ttype?: string\n}\n\nexport interface UnitsRepositoryContract\n\textends BaseRepository<Unit, UnitInput, UnitUpdate, UnitQueryOptions> {\n\tfindByUserIdWithSearch(\n\t\tuserId: string,\n\t\toptions: UnitQueryOptions\n\t): Promise<Unit[]>\n\tfindByPropertyId(propertyId: string): Promise<Unit[]>\n\tsoftDelete(\n\t\tuserId: string,\n\t\tunitId: string\n\t): Promise<{ success: boolean; message: string }>\n\tgetStats(userId: string): Promise<UnitStats>\n\tgetAnalytics(\n\t\tuserId: string,\n\t\toptions: { propertyId?: string; timeframe: string }\n\t): Promise<Unit[]>\n\tgetOccupancyAnalytics(\n\t\tuserId: string,\n\t\toptions: { propertyId?: string; period: string }\n\t): Promise<Unit[]>\n\tgetAvailableUnits(propertyId: string): Promise<Unit[]>\n\tupdateStatus(\n\t\tunitId: string,\n\t\tstatus: Database['public']['Enums']['UnitStatus']\n\t): Promise<Unit | null>\n}\n"]}