{"version":3,"file":"activity.js","sourceRoot":"","sources":["activity.ts"],"names":[],"mappings":"","sourcesContent":["/**\n * Activity types for audit trail and activity feed\n * These are domain types shared between frontend and backend\n */\n\nexport type ActivityPriority = 'low' | 'medium' | 'high'\n\nexport type ActivityType =\n\t| 'payment'\n\t| 'maintenance'\n\t| 'lease'\n\t| 'tenant'\n\t| 'property'\n\t| 'unit'\n\t| 'billing'\n\t| 'auth'\n\nexport type ActivityStatus = 'PENDING' | 'COMPLETED' | 'FAILED' | 'CANCELLED'\n\n/**\n * Strongly typed metadata for activities\n */\nexport interface ActivityMetadata {\n\tpropertyName?: string\n\tunitNumber?: string | number\n\tamount?: string | number\n\tstatus?: ActivityStatus\n\ttenantName?: string\n\tleaseEndDate?: string\n\tmaintenanceType?: string\n\tpaymentMethod?: string\n\t[key: string]: string | number | boolean | null | undefined\n}\n\n/**\n * Core activity item interface\n */\nexport interface ActivityItem {\n\tid: string\n\tuserId: string\n\tuserName?: string\n\taction: string\n\tentityType: string\n\tentityId: string\n\tentityName: string\n\tmetadata?: Record<string, string | number | boolean | null>\n\tcreatedAt: string\n\tpriority?: ActivityPriority\n\ttype?: ActivityType\n\tdescription?: string\n\ttimestamp?: string\n}\n\n/**\n * Activity with enhanced typing\n */\nexport type Activity = ActivityItem & {\n\tentityType: string\n\tmetadata?: ActivityMetadata\n\tpriority?: ActivityPriority\n}\n\n/**\n * Activity feed pagination\n */\nexport interface ActivityFeed {\n\titems: ActivityItem[]\n\thasMore: boolean\n\tnextCursor?: string\n}\n\n/**\n * Query parameters for activity filtering\n */\nexport interface ActivityQuery {\n\tlimit?: number\n\tcursor?: string\n\ttype?: string\n\tsince?: string\n\tuserId?: string\n\t[key: string]: string | number | boolean | null | undefined\n}\n\n/**\n * Activity creation payload\n */\nexport interface CreateActivityInput {\n\taction: string\n\tentityType: string\n\tentityId: string\n\tentityName: string\n\ttype?: ActivityType\n\tpriority?: ActivityPriority\n\tdescription?: string\n\tmetadata?: ActivityMetadata\n}\n\n/**\n * Activity update payload\n */\nexport interface UpdateActivityInput {\n\tpriority?: ActivityPriority\n\tdescription?: string\n\tmetadata?: ActivityMetadata\n}\n\n/**\n * Dashboard activity from optimized RPC function\n * Manual override required because PostgreSQL RETURNS TABLE doesn't support nullable columns\n * in the type declaration, but returns NULL values at runtime\n */\nexport interface DashboardActivity {\n\tid: string\n\tactivity_type: 'lease' | 'payment' | 'maintenance' | 'unit'\n\tentity_id: string\n\tproperty_id: string | null\n\ttenant_id: string | null\n\tunit_id: string | null\n\towner_id: string | null\n\tstatus: string | null\n\tpriority: string | null\n\taction: string\n\tamount: number | null\n\tactivity_timestamp: string\n\tdetails: Record<string, unknown>\n}\n"]}