{"version":3,"file":"supabase.js","sourceRoot":"","sources":["supabase.ts"],"names":[],"mappings":";;AA2IA,kCAQC;AAED,0CAQC;AAlBD,SAAgB,WAAW,CAAC,MAAe;IAC1C,OAAO,CACN,OAAO,MAAM,KAAK,QAAQ;QAC1B,MAAM,KAAK,IAAI;QACf,IAAI,IAAI,MAAM;QACd,OAAO,IAAI,MAAM;QACjB,WAAW,IAAI,MAAM,CACrB,CAAA;AACF,CAAC;AAED,SAAgB,eAAe,CAAC,MAAe;IAC9C,OAAO,CACN,OAAO,MAAM,KAAK,QAAQ;QAC1B,MAAM,KAAK,IAAI;QACf,IAAI,IAAI,MAAM;QACd,MAAM,IAAI,MAAM;QAChB,SAAS,IAAI,MAAM,CACnB,CAAA;AACF,CAAC","sourcesContent":["/**\n * TenantFlow Supabase Types - ULTRA-NATIVE\n *\n * Minimal extensions to generated Supabase types.\n * Use Database['public']['Tables']['TableName']['Row'] directly when possible.\n * Only create aliases for business logic extensions.\n */\n\nimport type { Database as GeneratedDatabase } from './supabase-generated.js'\n\n// Re-export the generated database type\nexport type Database = GeneratedDatabase\nexport type { Json } from './supabase-generated.js'\n\n// ONLY FOR BACKWARD COMPATIBILITY - prefer direct Database['public']['Tables'][T] usage\n// These helpers exist only because removing them would break 100+ imports\nexport type Tables<T extends keyof Database['public']['Tables']> =\n\tDatabase['public']['Tables'][T]['Row']\nexport type TablesInsert<T extends keyof Database['public']['Tables']> =\n\tDatabase['public']['Tables'][T]['Insert']\nexport type TablesUpdate<T extends keyof Database['public']['Tables']> =\n\tDatabase['public']['Tables'][T]['Update']\nexport type Enums<T extends keyof Database['public']['Enums']> =\n\tDatabase['public']['Enums'][T]\n\n// LEGACY Type Aliases - DO NOT ADD MORE\n// Existing code uses these, but new code should use Database['public']['Tables']['users']['Row'] directly\n\nexport type User = Database['public']['Tables']['users']['Row']\nexport type Property = Database['public']['Tables']['property']['Row']\nexport type Tenant = Database['public']['Tables']['tenant']['Row']\nexport type Lease = Database['public']['Tables']['lease']['Row']\nexport type Unit = Database['public']['Tables']['unit']['Row']\nexport type Subscription = Database['public']['Tables']['subscription']['Row']\nexport type Invoice = Database['public']['Tables']['invoice']['Row']\nexport type MaintenanceRequest =\n\tDatabase['public']['Tables']['maintenance_request']['Row']\nexport type Document = Database['public']['Tables']['document']['Row']\nexport type Activity = Database['public']['Tables']['activity']['Row']\n// InAppNotification table doesn't exist in current schema\n// export type TenantFlowNotification = Database['public']['Tables']['InAppNotification']['Row']\nexport type RentPayment = Database['public']['Tables']['rent_payment']['Row']\nexport type PaymentMethod =\n\tDatabase['public']['Tables']['payment_method']['Row']\n\n// Insert type aliases - LEGACY\nexport type UserInsert = Database['public']['Tables']['users']['Insert']\nexport type PropertyInsert = Database['public']['Tables']['property']['Insert']\nexport type TenantInsert = Database['public']['Tables']['tenant']['Insert']\n\n// Custom JSON Metadata Types (Business Logic)\n\nexport interface TenantFlowUserMetadata {\n\treadonly preferences?: {\n\t\treadonly theme: 'light' | 'dark' | 'system'\n\t\treadonly notifications: {\n\t\t\treadonly email: boolean\n\t\t\treadonly sms: boolean\n\t\t\treadonly push: boolean\n\t\t}\n\t\treadonly dashboard: {\n\t\t\treadonly layout: 'grid' | 'list'\n\t\t\treadonly density: 'compact' | 'comfortable' | 'spacious'\n\t\t}\n\t}\n\treadonly onboarding?: {\n\t\treadonly completed: boolean\n\t\treadonly step: number\n\t\treadonly completedAt?: string\n\t}\n\treadonly analytics?: {\n\t\treadonly lastLogin?: string\n\t\treadonly loginCount?: number\n\t\treadonly ipAddress?: string\n\t\treadonly userAgent?: string\n\t}\n\treadonly [key: string]: unknown\n}\n\nexport interface TenantFlowOrganizationSettings {\n\treadonly branding?: {\n\t\treadonly logo?: string\n\t\treadonly primaryColor?: string\n\t\treadonly accentColor?: string\n\t}\n\treadonly features?: {\n\t\treadonly maintenanceRequests: boolean\n\t\treadonly rentCollection: boolean\n\t\treadonly leaseManagement: boolean\n\t\treadonly reporting: boolean\n\t}\n\treadonly billing?: {\n\t\treadonly autoInvoicing: boolean\n\t\treadonly lateFees: {\n\t\t\treadonly enabled: boolean\n\t\t\treadonly amount?: number\n\t\t\treadonly type: 'fixed' | 'percentage'\n\t\t}\n\t\treadonly paymentMethods: readonly string[]\n\t}\n\treadonly [key: string]: unknown\n}\n\nexport interface TenantFlowPropertyMetadata {\n\treadonly amenities?: readonly string[]\n\treadonly policies?: {\n\t\treadonly petPolicy?: string\n\t\treadonly smokingPolicy?: string\n\t\treadonly noisePolicy?: string\n\t}\n\treadonly utilities?: {\n\t\treadonly included?: readonly string[]\n\t\treadonly excluded?: readonly string[]\n\t}\n\treadonly [key: string]: unknown\n}\n\n// ULTRA-NATIVE: Import helpers directly from generated file\n// Use: import type { Tables, TablesInsert, TablesUpdate } from './supabase-generated'\n\n// Query Result Helpers (Official Supabase Pattern)\n\nexport type QueryResult<T> = T extends PromiseLike<infer U> ? U : never\nexport type QueryData<T> = T extends PromiseLike<{ data: infer U }> ? U : never\nexport type QueryError<T> =\n\tT extends PromiseLike<{ error: infer U }> ? U : never\n\n// Example usage:\n// const query = supabase.from('property').select(`id, name, unit(*)`)\n// type PropertyWithUnits = QueryData<typeof query>\n\n// ULTRA-NATIVE: No type aliases needed! Apps import directly:\n// import type { Tables, TablesInsert } from '@repo/shared/types/supabase-generated'\n// type User = Tables<'User'>\n// type UserInsert = TablesInsert<'User'>\n\n// Business Logic Helpers Only\n\n// Type guards for runtime validation (business logic only)\nexport function isValidUser(entity: unknown): entity is User {\n\treturn (\n\t\ttypeof entity === 'object' &&\n\t\tentity !== null &&\n\t\t'id' in entity &&\n\t\t'email' in entity &&\n\t\t'createdAt' in entity\n\t)\n}\n\nexport function isValidProperty(entity: unknown): entity is Property {\n\treturn (\n\t\ttypeof entity === 'object' &&\n\t\tentity !== null &&\n\t\t'id' in entity &&\n\t\t'name' in entity &&\n\t\t'address' in entity\n\t)\n}\n"]}