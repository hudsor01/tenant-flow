{"version":3,"file":"api-errors.js","sourceRoot":"","sources":["api-errors.ts"],"names":[],"mappings":";;;AAiCa,QAAA,eAAe,GAAG;IAE9B,WAAW,EAAE,GAAG;IAChB,YAAY,EAAE,GAAG;IACjB,gBAAgB,EAAE,GAAG;IACrB,SAAS,EAAE,GAAG;IACd,SAAS,EAAE,GAAG;IACd,kBAAkB,EAAE,GAAG;IACvB,QAAQ,EAAE,GAAG;IACb,oBAAoB,EAAE,GAAG;IACzB,iBAAiB,EAAE,GAAG;IAGtB,qBAAqB,EAAE,GAAG;IAC1B,eAAe,EAAE,GAAG;IACpB,WAAW,EAAE,GAAG;IAChB,mBAAmB,EAAE,GAAG;IACxB,eAAe,EAAE,GAAG;CACX,CAAA;AAQG,QAAA,kBAAkB,GAAG;IACjC,iBAAiB,EAAE,mBAAmB;IACtC,mBAAmB,EAAE,qBAAqB;IAC1C,kBAAkB,EAAE,oBAAoB;IACxC,cAAc,EAAE,uBAAuB;IACvC,WAAW,EAAE,aAAa;IAC1B,SAAS,EAAE,kBAAkB;IAC7B,QAAQ,EAAE,mBAAmB;IAC7B,iBAAiB,EAAE,mBAAmB;IACtC,mBAAmB,EAAE,iCAAiC;CAC7C,CAAA;AAKG,QAAA,oBAAoB,GAAG;IAEnC,kBAAkB,EAAE,oBAAoB;IACxC,kBAAkB,EAAE,oBAAoB;IAGxC,qBAAqB,EAAE,uBAAuB;IAG9C,aAAa,EAAE,eAAe;IAC9B,mBAAmB,EAAE,qBAAqB;IAG1C,0BAA0B,EAAE,4BAA4B;IAGxD,aAAa,EAAE,eAAe;IAC9B,qBAAqB,EAAE,uBAAuB;IAG9C,kBAAkB,EAAE,oBAAoB;IACxC,cAAc,EAAE,gBAAgB;IAChC,iBAAiB,EAAE,mBAAmB;IACtC,gBAAgB,EAAE,kBAAkB;IAGpC,4BAA4B,EAAE,8BAA8B;IAC5D,gBAAgB,EAAE,kBAAkB;IACpC,qBAAqB,EAAE,uBAAuB;IAG9C,wBAAwB,EAAE,0BAA0B;IAGpD,aAAa,EAAE,eAAe;IAC9B,UAAU,EAAE,YAAY;CACf,CAAA","sourcesContent":["/**\n * Express/NestJS standardized error types\n * Following CLAUDE.md RULE #3: No abstractions - direct Express usage only\n *\n * These types define standard error response formats for the NestJS + Express backend\n * Use native Express error handling patterns without custom wrappers\n */\n\nexport interface ApiErrorResponse {\n\tsuccess: false\n\tstatusCode: number\n\tmessage: string\n\terror: string\n\ttimestamp: string\n\tpath: string\n}\n\nexport interface ApiValidationErrorResponse extends ApiErrorResponse {\n\tvalidation: {\n\t\tfield: string\n\t\tmessage: string\n\t\tvalue?: unknown\n\t}[]\n}\n\nexport interface ApiBusinessErrorResponse extends ApiErrorResponse {\n\tcode: string\n\tdetails?: Record<string, unknown>\n}\n\n/**\n * Standard HTTP error codes for consistent responses\n */\nexport const API_ERROR_CODES = {\n\t// Client errors (4xx)\n\tBAD_REQUEST: 400,\n\tUNAUTHORIZED: 401,\n\tPAYMENT_REQUIRED: 402,\n\tFORBIDDEN: 403,\n\tNOT_FOUND: 404,\n\tMETHOD_NOT_ALLOWED: 405,\n\tCONFLICT: 409,\n\tUNPROCESSABLE_ENTITY: 422,\n\tTOO_MANY_REQUESTS: 429,\n\n\t// Server errors (5xx)\n\tINTERNAL_SERVER_ERROR: 500,\n\tNOT_IMPLEMENTED: 501,\n\tBAD_GATEWAY: 502,\n\tSERVICE_UNAVAILABLE: 503,\n\tGATEWAY_TIMEOUT: 504\n} as const\n\nexport type ApiErrorCode =\n\t(typeof API_ERROR_CODES)[keyof typeof API_ERROR_CODES]\n\n/**\n * Standard error messages for common scenarios\n */\nexport const API_ERROR_MESSAGES = {\n\tVALIDATION_FAILED: 'Validation failed',\n\tUNAUTHORIZED_ACCESS: 'Unauthorized access',\n\tRESOURCE_NOT_FOUND: 'Resource not found',\n\tINTERNAL_ERROR: 'Internal server error',\n\tBAD_REQUEST: 'Bad request',\n\tFORBIDDEN: 'Access forbidden',\n\tCONFLICT: 'Resource conflict',\n\tTOO_MANY_REQUESTS: 'Too many requests',\n\tSERVICE_UNAVAILABLE: 'Service temporarily unavailable'\n} as const\n\n/**\n * Business error codes for domain-specific errors\n */\nexport const BUSINESS_ERROR_CODES = {\n\t// Property errors\n\tPROPERTY_NOT_FOUND: 'PROPERTY_NOT_FOUND',\n\tUNIT_NOT_AVAILABLE: 'UNIT_NOT_AVAILABLE',\n\t\n\t// Tenant errors\n\tTENANT_ALREADY_EXISTS: 'TENANT_ALREADY_EXISTS',\n\t\n\t// Lease errors\n\tLEASE_OVERLAP: 'LEASE_OVERLAP',\n\tINVALID_LEASE_DATES: 'INVALID_LEASE_DATES',\n\t\n\t// Maintenance errors\n\tMAINTENANCE_REQUEST_CLOSED: 'MAINTENANCE_REQUEST_CLOSED',\n\t\n\t// Billing errors\n\tBILLING_ERROR: 'BILLING_ERROR',\n\tSUBSCRIPTION_INACTIVE: 'SUBSCRIPTION_INACTIVE',\n\t\n\t// File upload errors\n\tINVALID_CSV_FORMAT: 'INVALID_CSV_FORMAT',\n\tFILE_TOO_LARGE: 'FILE_TOO_LARGE',\n\tINVALID_FILE_TYPE: 'INVALID_FILE_TYPE',\n\tNO_FILE_UPLOADED: 'NO_FILE_UPLOADED',\n\t\n\t// CSV-specific validation errors\n\tCSV_MISSING_REQUIRED_COLUMNS: 'CSV_MISSING_REQUIRED_COLUMNS',\n\tCSV_INVALID_DATA: 'CSV_INVALID_DATA',\n\tCSV_DUPLICATE_ENTRIES: 'CSV_DUPLICATE_ENTRIES',\n\t\n\t// Permission errors\n\tINSUFFICIENT_PERMISSIONS: 'INSUFFICIENT_PERMISSIONS',\n\t\n\t// Network errors\n\tNETWORK_ERROR: 'NETWORK_ERROR',\n\tCORS_ERROR: 'CORS_ERROR'\n} as const\n\nexport type BusinessErrorCode =\n\t(typeof BUSINESS_ERROR_CODES)[keyof typeof BUSINESS_ERROR_CODES]\n\n/**\n * Helper types for error context logging\n */\nexport interface ErrorLogContext {\n\tmethod: string\n\turl: string\n\tstatus: number\n\terrorName: string\n\tmessage: string\n\tuserId?: string\n\trequestId?: string\n\ttimestamp: string\n}\n\nexport interface SecurityContext {\n\tuserId?: string\n\trole?: string\n\torganizationId?: string\n\tpermissions?: string[]\n}\n"]}