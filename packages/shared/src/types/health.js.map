{"version":3,"file":"health.js","sourceRoot":"","sources":["health.ts"],"names":[],"mappings":"","sourcesContent":["/**\n * Health Check Types\n * Centralized health monitoring interfaces\n */\n\nexport interface ServiceHealth {\n\thealthy: boolean\n\tresponseTime?: number\n\tlastCheck?: string\n\tdetails?: unknown\n}\n\nexport interface SystemHealth {\n\tstatus: 'healthy' | 'degraded' | 'unhealthy'\n\ttimestamp: string\n\tservices: Record<string, ServiceHealth>\n\tperformance: {\n\t\tuptime: number\n\t\tmemory: {\n\t\t\tused: number\n\t\t\tfree: number\n\t\t\ttotal: number\n\t\t\tusagePercent: number\n\t\t}\n\t\tcpu: {\n\t\t\tuser: number\n\t\t\tsystem: number\n\t\t}\n\t}\n\tcache: unknown\n\tversion: string\n\tdeployment: {\n\t\tenvironment: string\n\t\tregion: string\n\t\tinstance: string\n\t}\n\tchecks?: {\n\t\tdb: 'healthy' | 'unhealthy'\n\t\tmessage?: string\n\t\thint?: string\n\t}\n\tduration?: number\n\treason?: string\n}\n\nexport interface HealthCheckResult {\n\tok: boolean\n\tmessage?: string\n}\n\nexport interface HealthCheckResponse {\n\tstatus: 'ok' | 'unhealthy'\n\ttimestamp: string\n\tenvironment: string\n\tuptime: number\n\tmemory: number\n\tversion: string\n\tservice: string\n\tconfig_loaded: {\n\t\tnode_env: boolean\n\t\tcors_origins: boolean\n\t\tsupabase_url: boolean\n\t}\n\tdatabase: {\n\t\tstatus: string\n\t\tmessage: string\n\t}\n\terror?: string\n}\n\n// Security monitoring types\nexport type { SecurityEvent } from './security'\n\nexport type SecurityEventType =\n\t| 'sql_injection_attempt'\n\t| 'xss_attempt'\n\t| 'path_traversal_attempt'\n\t| 'command_injection_attempt'\n\t| 'rate_limit_exceeded'\n\t| 'suspicious_input'\n\t| 'malformed_request'\n\t| 'malicious_request'\n\t| 'unauthorized_access'\n\t| 'brute_force_attempt'\n\t| 'csrf_token_missing'\n\t| 'csrf_token_invalid'\n\t| 'file_upload_threat'\n\t| 'injection_pattern_detected'\n\t| 'sanitization_triggered'\n\t| 'validation_failed'\n\t| 'auth_failure'\n\t| 'suspicious_activity'\n\t| 'account_takeover'\n\n// SecurityMetrics moved to security.ts to eliminate duplication\n\n// Performance monitoring types\nexport interface PerformanceMetrics {\n\tendpoint: string\n\tmethod: string\n\tduration: number\n\ttimestamp: string\n\tstatus: 'success' | 'error' | 'timeout'\n\tuserId?: string\n\tuserAgent?: string\n}\n"]}