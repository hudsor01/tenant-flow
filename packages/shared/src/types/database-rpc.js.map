{"version":3,"file":"database-rpc.js","sourceRoot":"","sources":["database-rpc.ts"],"names":[],"mappings":";;AA8DA,4EAcC;AAED,8EAYC;AA5BD,SAAgB,gCAAgC,CAC/C,IAAa;IAEb,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ;QAAE,OAAO,KAAK,CAAA;IAEnD,MAAM,GAAG,GAAG,IAA+B,CAAA;IAC3C,OAAO,CACN,eAAe,IAAI,GAAG;QACtB,OAAO,GAAG,CAAC,aAAa,KAAK,QAAQ;QACrC,aAAa,IAAI,GAAG;QACpB,OAAO,GAAG,CAAC,WAAW,KAAK,QAAQ;QACnC,aAAa,IAAI,GAAG;QACpB,OAAO,GAAG,CAAC,WAAW,KAAK,QAAQ,CACnC,CAAA;AACF,CAAC;AAED,SAAgB,iCAAiC,CAChD,IAAa;IAEb,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ;QAAE,OAAO,KAAK,CAAA;IAEnD,MAAM,GAAG,GAAG,IAA+B,CAAA;IAC3C,OAAO,CACN,qBAAqB,IAAI,GAAG;QAC5B,OAAO,GAAG,CAAC,mBAAmB,KAAK,QAAQ;QAC3C,iBAAiB,IAAI,GAAG;QACxB,OAAO,GAAG,CAAC,eAAe,KAAK,QAAQ,CACvC,CAAA;AACF,CAAC","sourcesContent":["/**\n * Database RPC Function Response Types\n *\n * TypeScript interfaces for RPC function responses from Supabase database functions.\n * These provide type safety for complex database queries that return JSON/JSONB data.\n */\n\n/**\n * Response from get_property_performance RPC function\n */\nexport interface PropertyPerformanceRpcResponse {\n\tproperty_name: string\n\tproperty_id: string\n\ttotal_units: number\n\toccupied_units: number\n\tvacant_units: number\n\toccupancy_rate: number\n\tannual_revenue: number\n\tmonthly_revenue: number\n\tpotential_revenue: number\n\taddress: string\n\tproperty_type: string\n\tstatus: string\n}\n\n/**\n * Response for occupancy trends (calculated in-app)\n */\nexport interface OccupancyTrendResponse {\n\tmonth: string\n\toccupancy_rate: number\n\ttotal_units: number\n\toccupied_units: number\n}\n\n/**\n * Response for revenue trends (calculated in-app)\n */\nexport interface RevenueTrendResponse {\n\tmonth: string\n\trevenue: number\n\tgrowth: number\n\tprevious_period_revenue: number\n}\n\n/**\n * Response from get_maintenance_trend_analytics RPC function\n */\nexport interface MaintenanceAnalyticsRpcResponse {\n\tavg_resolution_time: number\n\tcompletion_rate: number\n\tpriority_breakdown: Record<string, number>\n\ttrends_over_time: Array<{\n\t\tmonth: string\n\t\tcompleted: number\n\t\tavg_resolution_days: number\n\t}>\n}\n\n/**\n * Type guards for runtime validation\n */\nexport function isPropertyPerformanceRpcResponse(\n\tdata: unknown\n): data is PropertyPerformanceRpcResponse {\n\tif (!data || typeof data !== 'object') return false\n\n\tconst obj = data as Record<string, unknown>\n\treturn (\n\t\t'property_name' in obj &&\n\t\ttypeof obj.property_name === 'string' &&\n\t\t'property_id' in obj &&\n\t\ttypeof obj.property_id === 'string' &&\n\t\t'total_units' in obj &&\n\t\ttypeof obj.total_units === 'number'\n\t)\n}\n\nexport function isMaintenanceAnalyticsRpcResponse(\n\tdata: unknown\n): data is MaintenanceAnalyticsRpcResponse {\n\tif (!data || typeof data !== 'object') return false\n\n\tconst obj = data as Record<string, unknown>\n\treturn (\n\t\t'avg_resolution_time' in obj &&\n\t\ttypeof obj.avg_resolution_time === 'number' &&\n\t\t'completion_rate' in obj &&\n\t\ttypeof obj.completion_rate === 'number'\n\t)\n}\n"]}