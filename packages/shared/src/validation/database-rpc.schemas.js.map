{"version":3,"file":"database-rpc.schemas.js","sourceRoot":"","sources":["database-rpc.schemas.ts"],"names":[],"mappings":";;;AAAA,6BAAuB;AAQV,QAAA,cAAc,GAAG,OAAC;KAC7B,MAAM,CAAC;IACP,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAC9B,CAAC;KACD,QAAQ,EAAE;KACV,QAAQ,EAAE,CAAA;AAGL,MAAM,qBAAqB,GAAG,CAAyB,UAAa,EAAE,EAAE,CAC9E,OAAC,CAAC,MAAM,CAAC;IACR,IAAI,EAAE,UAAU,CAAC,QAAQ,EAAE;IAC3B,KAAK,EAAE,sBAAc;CACrB,CAAC,CAAA;AAJU,QAAA,qBAAqB,yBAI/B;AAGU,QAAA,4BAA4B,GAAG,IAAA,6BAAqB,EAAC,OAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,CAAA;AAOvE,QAAA,0BAA0B,GAAG,OAAC,CAAC,KAAK,CAChD,OAAC,CAAC,MAAM,CAAC;IACR,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;IACrB,SAAS,EAAE,OAAC,CAAC,OAAO,EAAE;CACtB,CAAC,CACF,CAAA;AAKY,QAAA,mBAAmB,GAAG,OAAC,CAAC,MAAM,CAAC;IAC3C,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE;IACrC,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE;IACxC,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE;IACtC,aAAa,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;IACzC,gBAAgB,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,WAAW,EAAE;IAC1C,WAAW,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,WAAW,EAAE;CACrC,CAAC,CAAA","sourcesContent":["import { z } from 'zod'\n\n/**\n * Zod schemas for validating database RPC function responses\n * These schemas ensure type safety for Supabase RPC calls\n */\n\n// Generic RPC error schema\nexport const rpcErrorSchema = z\n\t.object({\n\t\tmessage: z.string().optional()\n\t})\n\t.nullable()\n\t.optional()\n\n// Generic RPC result wrapper\nexport const createRpcResultSchema = <T extends z.ZodTypeAny>(dataSchema: T) =>\n\tz.object({\n\t\tdata: dataSchema.nullable(),\n\t\terror: rpcErrorSchema\n\t})\n\n// Schema for get_user_id_by_stripe_customer RPC response\nexport const userIdByStripeCustomerSchema = createRpcResultSchema(z.string().uuid())\nexport type UserIdByStripeCustomerResult = z.infer<\n\ttypeof userIdByStripeCustomerSchema\n>\n\n// Schema for activate_tenant_from_auth_user RPC response\n// Function returns: SELECT tenant_record.id, activated\nexport const activateTenantResultSchema = z.array(\n\tz.object({\n\t\tid: z.string().uuid(),\n\t\tactivated: z.boolean()\n\t})\n)\n\nexport type ActivateTenantResult = z.infer<typeof activateTenantResultSchema>\n\n// Schema for property stats RPC response\nexport const propertyStatsSchema = z.object({\n\ttotal: z.number().int().nonnegative(),\n\toccupied: z.number().int().nonnegative(),\n\tvacant: z.number().int().nonnegative(),\n\toccupancyRate: z.number().min(0).max(100),\n\ttotalMonthlyRent: z.number().nonnegative(),\n\taverageRent: z.number().nonnegative()\n})\n\nexport type PropertyStatsRpc = z.infer<typeof propertyStatsSchema>\n"]}