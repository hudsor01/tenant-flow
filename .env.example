# ===============================
# TENANT FLOW - MONOREPO ENVIRONMENT VARIABLES
# ===============================
# This file contains ALL environment variables for the entire monorepo
# Copy to .env.local and configure values for your development environment
# 
# For application-specific variables, see:
# - apps/frontend/.env.example (Next.js frontend)  
# - apps/backend/.env.example (NestJS backend)

# ===============================
# GLOBAL APPLICATION SETTINGS
# ===============================
NODE_ENV=development
# Application environment: development, production, test

# ===============================
# DATABASE CONFIGURATION
# ===============================
DATABASE_URL=postgresql://your_username:your_password@localhost:5432/tenantflow_dev
# [REQUIRED] Main PostgreSQL database connection

DIRECT_URL=postgresql://your_username:your_password@localhost:5432/tenantflow_dev
# [REQUIRED] Direct connection for Prisma operations

# ===============================
# SUPABASE CONFIGURATION  
# ===============================
SUPABASE_URL=https://your-project-id.supabase.co
# [REQUIRED] Get from Supabase Dashboard > Settings > API

SUPABASE_ANON_KEY=your-supabase-anon-key-here
# [REQUIRED] Supabase anonymous key

SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here
# [REQUIRED] Supabase service role key (backend only)

SUPABASE_JWT_SECRET=your-supabase-jwt-secret-here
# [REQUIRED] JWT secret from Supabase settings

# ===============================
# FRONTEND CONFIGURATION (NEXT.JS)
# ===============================
NEXT_PUBLIC_APP_URL=http://localhost:3000
# [REQUIRED] Frontend application URL

NEXT_PUBLIC_API_BASE_URL=http://localhost:3001/api
# [REQUIRED] Backend API endpoint  

NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
# [REQUIRED] Supabase URL for frontend (same as above)

NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key-here  
# [REQUIRED] Supabase anonymous key for frontend (same as above)

# ===============================
# STRIPE CONFIGURATION (PUBLIC)
# ===============================
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key-here
# [REQUIRED] Stripe publishable key for frontend

# Stripe Price IDs (4-tier structure)
NEXT_PUBLIC_STRIPE_STARTER_MONTHLY=price_starter_monthly_id
NEXT_PUBLIC_STRIPE_STARTER_ANNUAL=price_starter_annual_id
NEXT_PUBLIC_STRIPE_GROWTH_MONTHLY=price_growth_monthly_id
NEXT_PUBLIC_STRIPE_GROWTH_ANNUAL=price_growth_annual_id
NEXT_PUBLIC_STRIPE_BUSINESS_MONTHLY=price_business_monthly_id
NEXT_PUBLIC_STRIPE_BUSINESS_ANNUAL=price_business_annual_id
NEXT_PUBLIC_STRIPE_ENTERPRISE_MONTHLY=price_enterprise_monthly_id
NEXT_PUBLIC_STRIPE_ENTERPRISE_ANNUAL=price_enterprise_annual_id

# ===============================
# OPTIONAL FRONTEND FEATURES
# ===============================
NEXT_PUBLIC_POSTHOG_KEY=phc_your-posthog-key-here
# [OPTIONAL] PostHog analytics key

NEXT_PUBLIC_ENABLE_ANALYTICS=false
# [OPTIONAL] Enable analytics in development

# ===============================
# BACKEND CONFIGURATION (NESTJS)
# ===============================
PORT=3001
# [OPTIONAL] Backend server port (default: 3001)

JWT_SECRET=your-super-secure-jwt-secret-min-32-characters
# [REQUIRED] JWT signing secret (minimum 32 characters)

CORS_ORIGINS=http://localhost:3000,http://localhost:3001
# [REQUIRED] Allowed frontend origins

# ===============================
# STRIPE CONFIGURATION (PRIVATE)
# ===============================
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
# [REQUIRED] Stripe secret key (backend only)

STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here
# [REQUIRED] Stripe webhook endpoint secret

# Backend Stripe Price IDs (match frontend values)
STRIPE_PRICE_ID_STARTER=price_starter_monthly_id
STRIPE_PRICE_ID_GROWTH=price_growth_monthly_id
STRIPE_PRICE_ID_BUSINESS=price_business_monthly_id
STRIPE_PRICE_ID_TENANTFLOW_MAX=price_tenantflow_max_monthly_id

# ===============================
# EMAIL CONFIGURATION (OPTIONAL)
# ===============================
FROM_EMAIL=noreply@yourdomain.com
# [OPTIONAL] Default sender email address

RESEND_API_KEY=re_your-resend-api-key-here
# [OPTIONAL] Resend API key for transactional emails

# ===============================
# TESTING CONFIGURATION (OPTIONAL)
# ===============================
TEST_DATABASE_URL=postgresql://your_username:your_password@localhost:5432/tenantflow_test
# [OPTIONAL] Test database URL (for running tests)

PLAYWRIGHT_TEST_BASE_URL=http://localhost:3000
# [OPTIONAL] Base URL for Playwright tests

# ===============================
# SECURITY & MONITORING (OPTIONAL)
# ===============================
LOG_LEVEL=info
# [OPTIONAL] Logging level: debug, info, warn, error

RATE_LIMIT_LIMIT=100
# [OPTIONAL] Maximum requests per minute

ENABLE_METRICS=false
# [OPTIONAL] Enable Prometheus metrics

# ===============================
# DEPLOYMENT GUIDANCE
# ===============================
# This .env.example shows all possible variables across the entire monorepo.
# In production, configure variables in your deployment platform's dashboard:
#
# VERCEL (Frontend):
# - All NEXT_PUBLIC_* variables 
# - Use production URLs and live API keys
#
# RAILWAY (Backend): 
# - All backend variables (without NEXT_PUBLIC_)
# - Use production database and live secrets
#
# SECURITY REMINDERS:
# 1. Never commit .env.local to git
# 2. Use unique 32+ character secrets
# 3. NEXT_PUBLIC_* variables are exposed to browsers
# 4. Rotate keys regularly in production
# 5. Use test keys for development only

# ===============================
# QUICK START FOR DEVELOPERS
# ===============================
# 1. Copy this file to .env.local
# 2. Update database credentials  
# 3. Get Supabase project settings from dashboard
# 4. Get Stripe test API keys from dashboard
# 5. Run: npm run db:migrate && npm run dev

