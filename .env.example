# ===============================
# TENANT FLOW - PROJECT ENVIRONMENT VARIABLES
# ===============================
# Copy this file to .env.local and fill in your values
# Variables marked with [REQUIRED] must be set for the app to work
# Variables marked with [OPTIONAL] have defaults or can be omitted

# ===============================
# CORE APPLICATION
# ===============================
NODE_ENV=development
# [REQUIRED] Application environment - development, staging, production

# ===============================
# DATABASE CONFIGURATION
# ===============================
DATABASE_URL=postgresql://username:password@localhost:5432/tenantflow
# [REQUIRED] Main PostgreSQL database connection string

DIRECT_URL=postgresql://username:password@localhost:5432/tenantflow
# [REQUIRED] Direct database connection string (for migrations and Prisma operations)

ADMIN_DATABASE_URL=postgresql://username:password@localhost:5432/tenantflow_admin
# [OPTIONAL] Admin database connection (if different from main)

# [OPTIONAL] Read replica database URLs for improved performance
DATABASE_READ_REPLICA_1_URL=postgresql://username:password@localhost:5432/tenantflow_replica1
DATABASE_READ_REPLICA_2_URL=postgresql://username:password@localhost:5432/tenantflow_replica2

# [OPTIONAL] Database SSL configuration
DATABASE_SSL_CERT=path/to/cert.pem
DATABASE_SSL_KEY=path/to/key.pem
DATABASE_SSL_CA=path/to/ca.pem

# [OPTIONAL] Redis configuration for caching and session storage
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=node1:6379,node2:6379,node3:6379

# ===============================
# SUPABASE CONFIGURATION
# ===============================
# [REQUIRED] Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# ===============================
# FRONTEND VARIABLES (NEXT_PUBLIC_ PREFIX)
# ===============================
# [REQUIRED] Frontend application URLs and API endpoints
NEXT_PUBLIC_API_BASE_URL=http://localhost:3002/api
NEXT_PUBLIC_BACKEND_URL=http://localhost:3002
NEXT_PUBLIC_API_URL=/api

# [REQUIRED] Application URLs for frontend
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# [REQUIRED] Supabase configuration for frontend
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# [REQUIRED] Stripe configuration for frontend
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# [REQUIRED] Stripe Price IDs for subscription plans (frontend)
# 4-Tier Pricing Structure: Starter ($29), Growth ($79), Business ($179), Enterprise ($199)
NEXT_PUBLIC_STRIPE_STARTER_MONTHLY=price_1Rbnyk00PMlKUSP0oGJV2i1G
NEXT_PUBLIC_STRIPE_STARTER_ANNUAL=price_1Rbnyk00PMlKUSP0uS33sCq3
NEXT_PUBLIC_STRIPE_GROWTH_MONTHLY=price_1Rbnzv00PMlKUSP0fq5R5MNV
NEXT_PUBLIC_STRIPE_GROWTH_ANNUAL=price_1Rbnzv00PMlKUSP0jIq3BxTy
NEXT_PUBLIC_STRIPE_BUSINESS_MONTHLY=price_business_monthly
NEXT_PUBLIC_STRIPE_BUSINESS_ANNUAL=price_business_annual
NEXT_PUBLIC_STRIPE_ENTERPRISE_MONTHLY=price_1Rbo0P00PMlKUSP0Isi7U1Wr
NEXT_PUBLIC_STRIPE_ENTERPRISE_ANNUAL=price_1Rbo0r00PMlKUSP0rzUhwgkO

# [OPTIONAL] Special feature pricing (frontend)
NEXT_PUBLIC_STRIPE_LEASE_GENERATOR_PRICE_ID=price_lease_generator_24h

# [OPTIONAL] Analytics and monitoring (frontend)
NEXT_PUBLIC_POSTHOG_KEY=phc_your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX
NEXT_PUBLIC_FACEBOOK_PIXEL_ID=123456789

# [OPTIONAL] Development configuration (frontend)
NEXT_PUBLIC_HOST=localhost
NEXT_PUBLIC_PORT=3000
NEXT_PUBLIC_HTTPS=false
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_ERROR_REPORTING=false
NEXT_PUBLIC_ENABLE_PERFORMANCE_MONITORING=false
NEXT_PUBLIC_ENABLE_REACT_DEVTOOLS=true
NEXT_PUBLIC_ENABLE_TANSTACK_DEVTOOLS=true
NEXT_PUBLIC_LOG_LEVEL=info

# ===============================
# BACKEND CONFIGURATION
# ===============================
PORT=3002
# [OPTIONAL] Backend port (defaults to 3000)

FRONTEND_URL=http://localhost:3000
# [REQUIRED] Frontend application URL

CORS_ORIGINS=http://localhost:3000,http://localhost:3002,https://your-domain.com
# [REQUIRED] Comma-separated list of allowed CORS origins

ALLOWED_ORIGINS=http://localhost:3000,https://your-domain.com
# [DEPRECATED] Use CORS_ORIGINS instead

# ===============================
# STRIPE CONFIGURATION (BACKEND)
# ===============================
# [REQUIRED] Get these from your Stripe dashboard
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# [REQUIRED] Stripe Price IDs for subscription plans (backend)
# 4-Tier Pricing Structure: Starter ($29), Growth ($79), Business ($179), Enterprise ($199)
STRIPE_STARTER_MONTHLY=price_1Rbnyk00PMlKUSP0oGJV2i1G
STRIPE_STARTER_ANNUAL=price_1Rbnyk00PMlKUSP0uS33sCq3
STRIPE_GROWTH_MONTHLY=price_1Rbnzv00PMlKUSP0fq5R5MNV
STRIPE_GROWTH_ANNUAL=price_1Rbnzv00PMlKUSP0jIq3BxTy
STRIPE_BUSINESS_MONTHLY=price_business_monthly
STRIPE_BUSINESS_ANNUAL=price_business_annual
STRIPE_ENTERPRISE_MONTHLY=price_1Rbo0P00PMlKUSP0Isi7U1Wr
STRIPE_ENTERPRISE_ANNUAL=price_1Rbo0r00PMlKUSP0rzUhwgkO

STRIPE_PORTAL_RETURN_URL=https://your-domain.com/dashboard
# [OPTIONAL] URL to return to from Stripe customer portal

# ===============================
# EMAIL CONFIGURATION
# ===============================
# [REQUIRED] Email service configuration
RESEND_API_KEY=re_your-resend-api-key
FROM_EMAIL=noreply@your-domain.com
EMAIL_FROM_ADDRESS=noreply@your-domain.com
SUPPORT_EMAIL=support@your-domain.com

# ===============================
# AUTHENTICATION
# ===============================
JWT_SECRET=your-jwt-secret-key
# [REQUIRED] Secret for JWT token signing

JWT_EXPIRES_IN=7d
# [OPTIONAL] JWT token expiration (defaults to 7d)

# ===============================
# FEATURE FLAGS & MONITORING
# ===============================
ENABLE_TELEMETRY=false
# [OPTIONAL] Enable application telemetry

ENABLE_DEBUG_LOGGING=false
# [OPTIONAL] Enable debug logging

ENABLE_MAINTENANCE_MODE=false
# [OPTIONAL] Enable maintenance mode

RATE_LIMIT_MAX=100
# [OPTIONAL] Rate limiting max requests (defaults to 100)

# ===============================
# TESTING CONFIGURATION
# ===============================
# Only needed for running tests
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/tenantflow_test
STRIPE_TEST_SECRET_KEY=sk_test_your-test-key
STRIPE_TEST_PUBLISHABLE_KEY=pk_test_your-test-key
STRIPE_TEST_WEBHOOK_SECRET=whsec_test_your-webhook-secret
PLAYWRIGHT_TEST_BASE_URL=http://localhost:3000
E2E_API_TOKEN=your-e2e-api-token

# ===============================
# DEPLOYMENT PLATFORM VARIABLES
# ===============================
# These are set automatically by deployment platforms
# or configured in their dashboards - DO NOT set locally

# Vercel (set in Vercel dashboard):
# - VERCEL_TOKEN
# - VERCEL_ORG_ID
# - VERCEL_PROJECT_ID
# - VERCEL_GIT_COMMIT_SHA

# Railway (set in Railway dashboard):
# - RAILWAY_TOKEN

# Turbo (set in Vercel/Railway dashboard):
# - TURBO_TOKEN
# - TURBO_TEAM

# Docker & Container Registry
DOCKER_REGISTRY=registry.hub.docker.com
DOCKER_USERNAME=your-docker-username
DOCKER_PASSWORD=your-docker-password
DOCKER_IMAGE_TAG=latest

# Production Monitoring & Logging
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
LOG_LEVEL=info
ENABLE_PROFILING=false
METRICS_ENDPOINT=https://your-metrics-endpoint.com

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/app.crt
SSL_KEY_PATH=/etc/ssl/private/app.key
FORCE_HTTPS=true

# CDN Configuration
CDN_URL=https://cdn.your-domain.com
ASSETS_BASE_URL=https://assets.your-domain.com

# Database Connection Pool
DATABASE_CONNECTION_POOL_MIN=2
DATABASE_CONNECTION_POOL_MAX=20
DATABASE_CONNECTION_TIMEOUT=30000
DATABASE_QUERY_TIMEOUT=60000

# ===============================
# DEPLOYMENT CONFIGURATION GUIDE
# ===============================

# VERCEL FRONTEND (apps/frontend):
# Set these environment variables in Vercel dashboard:
# - NEXT_PUBLIC_API_BASE_URL=https://api.your-domain.com/api
# - NEXT_PUBLIC_BACKEND_URL=https://api.your-domain.com
# - NEXT_PUBLIC_SUPABASE_URL (from Supabase dashboard)
# - NEXT_PUBLIC_SUPABASE_ANON_KEY (from Supabase dashboard)
# - NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY (from Stripe dashboard)
# - All NEXT_PUBLIC_STRIPE_* price IDs (4-tier structure)
# - Optional: NEXT_PUBLIC_POSTHOG_KEY, NEXT_PUBLIC_GTM_ID, etc.

# RAILWAY BACKEND (apps/backend):
# Set these environment variables in Railway dashboard:
# - NODE_ENV=production
# - DATABASE_URL (from Railway Postgres addon)
# - DIRECT_URL (same as DATABASE_URL for Railway)
# - SUPABASE_URL (from Supabase dashboard)
# - SUPABASE_ANON_KEY (from Supabase dashboard)
# - SUPABASE_SERVICE_ROLE_KEY (from Supabase dashboard)
# - SUPABASE_JWT_SECRET (from Supabase dashboard)
# - CORS_ORIGINS=https://your-domain.com,https://api.your-domain.com
# - STRIPE_SECRET_KEY (from Stripe dashboard)
# - STRIPE_WEBHOOK_SECRET (from Stripe dashboard)
# - All STRIPE_* price IDs (non-VITE versions, 4-tier structure)
# - RESEND_API_KEY (from Resend dashboard)
# - FROM_EMAIL=noreply@your-domain.com
# - EMAIL_FROM_ADDRESS=noreply@your-domain.com
# - SUPPORT_EMAIL=support@your-domain.com
# - FRONTEND_URL=https://your-domain.com
# - JWT_SECRET (generate a secure random string)
# - PORT (optional, Railway sets this automatically)

# SUPABASE CONFIGURATION:
# In your Supabase dashboard, configure:
# - Auth settings (allowed domains, email templates)
# - Database connection strings
# - Row Level Security policies
# - Storage buckets (if using file uploads)

# ===============================
# NOTES
# ===============================
# 1. Never commit .env.local files to git
# 2. Use strong, unique values for all secrets
# 3. NEXT_PUBLIC_ variables are exposed to the browser - never put secrets there
# 4. Test environment variables should use test keys from Stripe
# 5. Production environment variables should be set in your deployment platform
# 6. Keep frontend (NEXT_PUBLIC_) and backend variables separate


# ===============================
# FRONTEND ENVIRONMENT VARIABLES
# ===============================
# Copy this file to .env.local in this directory
# All variables with NEXT_PUBLIC_ prefix are included in the build
# NEVER put secrets in NEXT_PUBLIC_ variables - they are exposed to browsers

# ===============================
# API CONFIGURATION [REQUIRED]
# ===============================
NEXT_PUBLIC_API_BASE_URL=https://api.tenantflow.app
# Backend API base URL (Vercel deployment)

NEXT_PUBLIC_BACKEND_URL=https://api.tenantflow.app
# Backend application URL (Vercel deployment)

NEXT_PUBLIC_API_URL=/api
# Relative API path (for proxy setup)

# ===============================
# SUPABASE CONFIGURATION [REQUIRED]
# ===============================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
# Get from Supabase Dashboard > Settings > API

NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
# Get from Supabase Dashboard > Settings > API > anon/public key

# ===============================
# STRIPE CONFIGURATION [REQUIRED]
# ===============================
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
# Get from Stripe Dashboard > Developers > API keys > Publishable key

# Stripe Price IDs for subscription plans [REQUIRED]
# Get from Stripe Dashboard > Products > [Your Plan] > Price ID
# 4-Tier Pricing Structure: Free Trial, Starter, Growth, TenantFlow Max
NEXT_PUBLIC_STRIPE_STARTER_MONTHLY=price_1Rbnyk00PMlKUSP0oGJV2i1G
NEXT_PUBLIC_STRIPE_STARTER_ANNUAL=price_1Rbnyk00PMlKUSP0uS33sCq3
NEXT_PUBLIC_STRIPE_GROWTH_MONTHLY=price_1Rbnzv00PMlKUSP0fq5R5MNV
NEXT_PUBLIC_STRIPE_GROWTH_ANNUAL=price_1Rbnzv00PMlKUSP0jIq3BxTy
NEXT_PUBLIC_STRIPE_TENANTFLOW_MAX_MONTHLY=price_1Rbo0P00PMlKUSP0Isi7U1Wr
NEXT_PUBLIC_STRIPE_TENANTFLOW_MAX_ANNUAL=price_1Rbo0r00PMlKUSP0rzUhwgkO

# [OPTIONAL] Special feature pricing
NEXT_PUBLIC_STRIPE_LEASE_GENERATOR_PRICE_ID=price_lease_generator_24h

# ===============================
# ANALYTICS & TRACKING [OPTIONAL]
# ===============================
NEXT_PUBLIC_POSTHOG_KEY=phc_your-posthog-key
# Get from PostHog Dashboard > Project Settings

NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
# PostHog host URL (default: https://us.i.posthog.com)

NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX
# Google Tag Manager container ID

NEXT_PUBLIC_FACEBOOK_PIXEL_ID=123456789
# Facebook Pixel ID

# ===============================
# DEVELOPMENT CONFIGURATION [OPTIONAL]
# ===============================
NEXT_PUBLIC_HOST=localhost
# Development server host

NEXT_PUBLIC_PORT=3000
# Development server port

NEXT_PUBLIC_HTTPS=false
# Enable HTTPS in development

# Application URLs [OPTIONAL]
NEXT_PUBLIC_APP_URL=https://tenantflow.app
# Full application URL (frontend domain)

NEXT_PUBLIC_SITE_URL=https://tenantflow.app
# Site URL for SEO (frontend domain)

# ===============================
# FEATURE FLAGS [OPTIONAL]
# ===============================
NEXT_PUBLIC_ENABLE_ANALYTICS=false
# Enable analytics in development

NEXT_PUBLIC_ENABLE_ERROR_REPORTING=false
# Enable error reporting

NEXT_PUBLIC_ENABLE_PERFORMANCE_MONITORING=false
# Enable performance monitoring

NEXT_PUBLIC_ENABLE_REACT_DEVTOOLS=true
# Enable React DevTools

NEXT_PUBLIC_ENABLE_TANSTACK_DEVTOOLS=true
# Enable TanStack Query DevTools

# ===============================
# LOGGING CONFIGURATION [OPTIONAL]
# ===============================
NEXT_PUBLIC_LOG_LEVEL=info
# Log level: debug, info, warn, error

# ===============================
# BUILD CONFIGURATION [OPTIONAL]
# ===============================
NEXT_PUBLIC_BUILD_TARGET=esnext
# Build target

NEXT_PUBLIC_ANALYZE_BUNDLE=false
# Enable bundle analysis

# ===============================
# DEPLOYMENT INSTRUCTIONS
# ===============================

# VERCEL DEPLOYMENT:
# Set these environment variables in Vercel dashboard:
#
# Required:
# - NEXT_PUBLIC_API_BASE_URL=https://api.tenantflow.app
# - NEXT_PUBLIC_BACKEND_URL=https://api.tenantflow.app
# - NEXT_PUBLIC_SUPABASE_URL (from Supabase)
# - NEXT_PUBLIC_SUPABASE_ANON_KEY (from Supabase)
# - NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY (from Stripe)
# - All NEXT_PUBLIC_STRIPE_* price IDs (4-tier structure)
#
# Optional:
# - NEXT_PUBLIC_POSTHOG_KEY (for analytics)
# - NEXT_PUBLIC_GTM_ID (for Google Analytics)
# - NEXT_PUBLIC_ENABLE_ANALYTICS=true
# - NEXT_PUBLIC_ENABLE_ERROR_REPORTING=true
# - NEXT_PUBLIC_ENABLE_PERFORMANCE_MONITORING=true

# NETLIFY DEPLOYMENT:
# Same variables as Vercel above

# ===============================
# SECURITY NOTES
# ===============================
# 1. All NEXT_PUBLIC_ variables are PUBLIC and included in the browser bundle
# 2. NEVER put API secrets, database URLs, or private keys in NEXT_PUBLIC_ variables
# 3. Use test/development keys for local development
# 4. Use production keys only in production deployment platforms
# 5. Regularly rotate API keys and update in deployment platforms
